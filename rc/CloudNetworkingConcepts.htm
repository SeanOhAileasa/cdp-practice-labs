<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>
	Print content
</title><link href="CloudNetworkingConcepts_files/print-styles.css" rel="stylesheet">
    <script src="CloudNetworkingConcepts_files/jquery.min.js"></script>
    <script src="CloudNetworkingConcepts_files/jspdf.js"></script>
    <script src="CloudNetworkingConcepts_files/from_html.js"></script>
    <script src="CloudNetworkingConcepts_files/addimage.js"></script>
    <script src="CloudNetworkingConcepts_files/filesaver.js"></script>
    <script src="CloudNetworkingConcepts_files/pl.js"></script>
</head>
<body>
    <form method="post" action="./vn-print-content.aspx" id="form1">
<div class="aspNetHidden">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="zP/ideP/FttkSvN8hrGwu2Hmhv4K9XZM4iwRDrrr5OterXtPv9EDq/RcUHeh6va9ksqeDqrjMUKLUEOtNKEmAABPuf940EP+V2N+KendQQU=">
</div>

<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="918AB9A0">
</div>
    <div>
        

        
        
        <div id="panPrintAvailable">
	
            <div class="print-content-wrapper" id="print-content">
                <!--<button class="save-pdf">PDF</button>-->
                < <a href="https://github.com/SeanOhAileasa">Home</a> >

                <h1>CompTIA Cloud+</h1>
                <h2>Cloud Networking Concepts</h2>
                <div class="print-content-index">
                    <ul>
                        <li>Introduction</li><li>Lab Topology</li><li>Exercise 1 - Network Segmentation in the Cloud</li><li>Exercise 2 - Network Services in Cloud Security </li><li>Exercise 3 - Protocols to Secure Cloud Traffic</li><li>Exercise 4 - Hardening Cloud-based Resources</li><li>Review</li>
                    </ul>
                </div>
                <div class="print-content-content">
                    <h2 class="exercise-title" id="cn-m6-0"><b>Introduction</b></h2>

<div class="cn-metadata"><div>CompTIA Cloud+</div>

<div>Network Segmentation</div>

<div>VXAN</div>

<div>Virtual Network</div>

<div>Micro Segmentation</div>

<div>Storage</div>

<div>Logs</div>

<div>Subnet</div>

<div>Cloud Shell</div>

<div>IP Addresses</div>

</div>

<span class="atom-code hidden">04b06c5e-84c1-4d31-99ed-950d17cb965e</span>

<p id="cn-m6-13">Welcome to the <b>Cloud Networking Concepts </b>Practice Lab. In this module, you will be provided with the instructions and devices needed to develop your hands-on skills.</p>

<span class="atom-code hidden">438dad03-f98b-4140-b2be-5703e717b5ff</span>

<span class="atom-code hidden">dc640c20-9434-45ea-b7c2-6d4d6a196bfc</span>

<h2 class="cn-learningobjectives"><b>Learning Outcomes</b></h2>

<p id="cn-m6-20">In this module, you will complete the following exercises:</p>

<ul id="cn-m6-21">

<li id="cn-m6-21">Exercise 1 - Network Segmentation in the Cloud</li>

<li id="cn-m6-22">Exercise 2 - Network Services in Cloud Security</li>

<li id="cn-m6-23">Exercise 3 - Protocols to Secure Cloud Traffic</li>

<li id="cn-m6-24">Exercise 4 - Hardening Cloud-based Resources</li>

</ul>

<p id="cn-m6-25">After completing this module, you should be able to:</p>

<ul id="cn-m6-26">

<li id="cn-m6-26">Create a Virtual Network in Microsoft Azure</li>

<li id="cn-m6-27">Create a Subnet in Microsoft Azure</li>

<li id="cn-m6-28">Configure a Virtual Network</li>

<li id="cn-m6-29">Explore Azure Cloud Shell</li>

<li id="cn-m6-30">Create a VM with PowerShell</li>

<li id="cn-m6-31">Verify the successful creation of VM via SSH</li>

<li id="cn-m6-32">Applying Application Security Groups</li>

<li id="cn-m6-33">Configure Application Gateway</li>

<li id="cn-m6-34">Disabling Unnecessary Ports</li>

</ul>

<h2 class="cn-examobjectives"><b>Exam Objectives</b></h2>

<p id="cn-m6-36">The following exam objectives are covered in this module:</p>

<ul id="cn-m6-37">

<li id="cn-m6-37">2.2 Given a scenario, secure a network in a cloud environment</li>

</ul>

<h2 class="cn-labduration"><b>Lab Duration</b></h2>

<p id="cn-m6-39">It will take approximately <b>1 hour </b>to complete this lab.</p>

<span class="atom-code hidden">a938f85f-2307-4b51-9675-5e60f8a45af2</span>

<h2 class="cn-helpdandsupport"><b>Help and Support</b></h2>

<p id="cn-m6-43">For more information on using Practice Labs, please see our <b>Help and Support </b>page. You can also raise a technical support ticket from this page.</p>

<span class="cn-alert" id="cn-m6-44">Click <b>Next </b>to view the Lab topology used in this module.</span>

<span class="atom-code hidden">d2c53300-f951-45a9-9aa4-3d4ecae69e11</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-46"><b>Lab Topology</b></h2>

<p id="cn-m6-47">During your session, you will have access to the following lab configuration.</p>

<span class="atom-code hidden">af4fa57a-53be-4f51-bf97-9ac3495df239</span>

<p id="cn-m6-50">Depending on the exercises, you may or may not use all 
of the devices, but they are shown here in the layout to get an overall 
understanding of the topology of the lab.</p>

<ul id="cn-m6-51">

<li id="cn-m6-51"><b>PLABWIN10 </b>- Standalone Azure Workstation (Windows 10)</li>

</ul>

<span class="cn-alert" id="cn-m6-52">Click <b>Next </b>to proceed to the first exercise.</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-53"><b>Exercise 1 - Network Segmentation in the Cloud</b></h2>

<p id="cn-m6-54">Network segmentation is part of a layered defense 
system. Using network segmentation, we can add a layer of security to 
the resources within the cloud. This is accomplished through various 
tools Azure offers natively in its platform, from the configuration of 
virtual networks, and various components associated with it.</p>

<p id="cn-m6-55">There are many different options in security that can 
be applied to secure resources.&nbsp;However, it is important that you 
can separate those resources out into different network&nbsp;segments. 
As different resources will have various functions, it becomes 
imperative that their network connections maintain a segmented structure
 to reflect these separations of functionality.</p>

<p id="cn-m6-56">In this exercise, you will create a virtual network and subnet using the Azure portal.</p>

<h2 class="cn-learningobjectives"><b>Learning Outcomes</b></h2>

<p id="cn-m6-58">After completing this exercise, you should be able to:</p>

<ul id="cn-m6-59">

<li id="cn-m6-59">Create a Virtual Network in Microsoft Azure</li>

<li id="cn-m6-60">Create a Subnet in Microsoft Azure</li>

</ul>

<h2 class="cn-devices"><b>Your Devices</b></h2>

<p id="cn-m6-62">You will be using the following device in this lab. Please power this on now.</p>

<span class="atom-code hidden">af4fa57a-53be-4f51-bf97-9ac3495df239</span>

<ul id="cn-m6-66">

<li id="cn-m6-66"><b>PLABWIN10 </b>- Standalone Azure Workstation (Windows 10)</li>

</ul>

<h3 id="cn-m6-68"><b>Task 1 - Create a Virtual Network in Microsoft Azure</b></h3>

<p id="cn-m6-69">An Azure virtual network is used to connect resources on the Azure platform.</p>

<p id="cn-m6-70">Different cloud resources and devices can be connected 
to facilitate communication between these devices, such as connecting 
different Azure Virtual machines on the same virtual network.</p>

<p id="cn-m6-71">In this task, you will create a virtual network, and assign a pool of IP addresses to the network.</p>

<h4 id="cn-m6-72"><b><i>Step 1</i></b></h4>

<p id="cn-m6-73">Connect to <b>PLABWIN10</b>.</p>

<p id="cn-m6-74"></p><figure><img class="cn-img" id="cn-image-m6-c-0" src="CloudNetworkingConcepts_files/image-m6-c-0.jpg" alt="Figure 1.1 Screenshot of PLABWIN10: Windows 10 desktop is displayed."><figcaption>Figure 1.1 Screenshot of PLABWIN10: Windows 10 desktop is displayed.</figcaption></figure><p></p>

<h4 id="cn-m6-76"><b><i>Step 2</i></b></h4>

<p id="cn-m6-77">From the <b>Taskbar</b>, click <b>Microsoft Edge</b>.</p>

<p id="cn-m6-78"></p><figure><img class="cn-img" id="cn-image-m6-c-1" src="CloudNetworkingConcepts_files/image-m6-c-1.jpg" alt="Figure 1.2 Screenshot of PLABWIN10: The Windows 10 desktop is displayed with the Microsoft Edge icon highlighted from the Taskbar."><figcaption>Figure
 1.2 Screenshot of PLABWIN10: The Windows 10 desktop is displayed with 
the Microsoft Edge icon highlighted from the Taskbar.</figcaption></figure><p></p>

<h4 id="cn-m6-80"><b><i>Step 3</i></b></h4>

<p id="cn-m6-81">In the <b>Microsoft Azure Portal</b>, click into the <b>Search resources, services and docs </b>textbox and type:</p>

<pre id="cn-m6-82"><code>virtual networks

</code></pre>

<p id="cn-m6-84">From the results, under <b>Services</b>, select <b>Virtual networks</b>.</p>

<p id="cn-m6-85"></p><figure><img class="cn-img" id="cn-image-m6-c-2" src="CloudNetworkingConcepts_files/image-m6-c-2.jpg" alt="Figure 1.3 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed with the search term virtual networks typed into the search bar, and Virtual networks highlighted in the results list."><figcaption>Figure
 1.3 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed with the search term virtual networks typed into the
 search bar, and Virtual networks highlighted in the results list.</figcaption></figure><p></p>

<h4 id="cn-m6-87"><b><i>Step 4</i></b></h4>

<p id="cn-m6-88">From the <b>Virtual networks </b>page, click <b>Create</b>.</p>

<p id="cn-m6-89"></p><figure><img class="cn-img" id="cn-image-m6-c-3" src="CloudNetworkingConcepts_files/image-m6-c-3.jpg" alt="Figure 1.4 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed, the virtual network page is displayed with create button highlighted."><figcaption>Figure
 1.4 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed, the virtual network page is displayed with create 
button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-91"><b><i>Step 5</i></b></h4>

<p id="cn-m6-92">On the <b>Basics </b>tab, under the <b>Project details </b>section, click on the <b>Resource group </b>dropdown and select the pre-populated resource group.</p>

<p id="cn-m6-94"></p><figure><img class="cn-img" id="cn-image-m6-c-4" src="CloudNetworkingConcepts_files/image-m6-c-4.jpg" alt="Figure 1.5 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed in the Create virtual network page loaded, Resource group dropdown with Stg_ryan highlighted."><figcaption>Figure
 1.5 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed in the Create virtual network page loaded, Resource 
group dropdown with Stg_ryan highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-96"><b><i>Note: </i></b><i>In the lab 
infrastructure, the Azure account has been pre-populated with a Resource
 Group. A restriction prevents users from creating a new Resource Group.
 It is essential to select the pre-populated resource group in this 
task.</i></span>

<h4 id="cn-m6-97"><b><i>Step 6</i></b></h4>

<p id="cn-m6-98">Under <b>Instance details </b>type:</p>

<p id="cn-m6-99"><b>Name</b></p>

<pre id="cn-m6-100"><code>CloudPlusVnet01

</code></pre>

<p id="cn-m6-102">Ensure <b>Region </b>is set to <b>UK South</b>.</p>

<p id="cn-m6-103">Click <b>Next : IP Addresses </b>&gt;.</p>

<p id="cn-m6-104"></p><figure><img class="cn-img" id="cn-image-m6-c-5" src="CloudNetworkingConcepts_files/image-m6-c-5.jpg" alt="Figure 1.6 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed with the Name field typed in, and the Next : IP Addresses button highlighted."><figcaption>Figure
 1.6 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed with the Name field typed in, and the Next : IP 
Addresses button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-106"><b><i>Step 7</i></b></h4>

<p id="cn-m6-107">From the <b>IP Addresses tab</b>, add a private IP address range by typing:</p>

<p id="cn-m6-108"><b>IPv4 address space</b></p>

<pre id="cn-m6-109"><code>172.16.1.0/24

</code></pre>

<p id="cn-m6-110"></p><figure><img class="cn-img" id="cn-image-m6-c-6" src="CloudNetworkingConcepts_files/image-m6-c-6.jpg" alt="Figure 1.7 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed on Create virtual network page, IPv4 address space filled out with 10.0.0.0/16 and 172.16.1.0/24."><figcaption>Figure
 1.7 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed on Create virtual network page, IPv4 address space 
filled out with 10.0.0.0/16 and 172.16.1.0/24.</figcaption></figure><p></p>

<h4 id="cn-m6-112"><b><i>Step 8</i></b></h4>

<p id="cn-m6-113">Click into the empty field below. Notice the number of addresses available next to this recently added IP address range.</p>

<p id="cn-m6-114">Click back into <b>172.16.1.0/24 </b>and replace <b>/24 </b>with:</p>

<pre id="cn-m6-115"><code>/25

</code></pre>

<p id="cn-m6-116">Click into the empty field below again, and notice the change in the addresses available.</p>

<p id="cn-m6-117"></p><figure><img class="cn-img" id="cn-image-m6-c-7" src="CloudNetworkingConcepts_files/image-m6-c-7.jpg" alt="Figure 1.8 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed on Create virtual network page, IPv4 address space filled out with 10.0.0.0/16 and 172.16.1.0/25."><figcaption>Figure
 1.8 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed on Create virtual network page, IPv4 address space 
filled out with 10.0.0.0/16 and 172.16.1.0/25.</figcaption></figure><p></p>

<h4 id="cn-m6-119"><b><i>Step 9</i></b></h4>

<p id="cn-m6-120">In the empty field, type:</p>

<pre id="cn-m6-121"><code>192.168.4.0/24

</code></pre>

<p id="cn-m6-122">Click into the empty field below once more to view the addresses available.</p>

<p id="cn-m6-123"></p><figure><img class="cn-img" id="cn-image-m6-c-8" src="CloudNetworkingConcepts_files/image-m6-c-8.jpg" alt="Figure 1.9 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed on Create virtual network page, IP address space filled out with 192.168.4.0/24."><figcaption>Figure
 1.9 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed on Create virtual network page, IP address space 
filled out with 192.168.4.0/24.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-126"><b><i>Note</i></b><i>: In a 
real-life scenario, review the vendor documentation to ensure that 
they're not taking a portion of that pool&nbsp;and reserving it for 
other infrastructure that you need to attach to these networks.</i></span>

<h4 id="cn-m6-127"><b><i>Step 10</i></b></h4>

<p id="cn-m6-128">Leave the <b>Add IPv6 address space </b>checkbox unticked.</p>

<p id="cn-m6-129">Click <b>Next : Security </b>&gt;.</p>

<p id="cn-m6-130"></p><figure><img class="cn-img" id="cn-image-m6-c-9" src="CloudNetworkingConcepts_files/image-m6-c-9.jpg" alt="Figure 1.10 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed on the Create virtual network page with the Next : Security button highlighted."><figcaption>Figure
 1.10 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed on the Create virtual network page with the Next : 
Security button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-132"><b><i>Step 11</i></b></h4>

<p id="cn-m6-133">From the <b>Security </b>tab, notice the security settings that can be disabled or enabled.</p>

<p id="cn-m6-134">Click on the <b>i icon </b>to view the following information on these settings:</p>

<ul id="cn-m6-135">

<li id="cn-m6-135"><b>BastionHost </b>- Azure Bastion service is a fully
 platformed-managed PaaS service that you provision inside our virtual 
network. It provides secure and seamless RDP/SSH connectivity to your 
virtual machines directory in the Azure portal over SSL. When you 
connect via Azure Bastion, your virtual machines do not need a public IP
 address.</li>

<li id="cn-m6-136"><b>DDoS Protection Standard </b>- DDoS protection 
plan is a paid service that offers enhanced DDoS mitigation capabilities
 via adaptive tuning, attack notification, and telemetry to protect 
against the impacts of a DDoS attack for all protected resources within 
this virtual network. Basic DDos protection is integrated into the Azure
 platform by default and at no additional cost.</li>

<li id="cn-m6-137"><b>Firewall </b>- Azure Firewall is a managed cloud-based network security service that protects your Azure Virtual Network resources.</li>

</ul>

<p id="cn-m6-138">Change the <b>Firewall </b>setting to <b>Enable</b>.</p>

<p id="cn-m6-139">Enter the following values under the <b>Firewall </b>section:</p>

<p id="cn-m6-140"><b>Firewall name:</b></p>

<pre id="cn-m6-141"><code>PlabFW

</code></pre>

<p id="cn-m6-143"><b>Firewall subnet address space:</b></p>

<pre id="cn-m6-144"><code> 192.168.4.0/24

</code></pre>

<p id="cn-m6-145"></p><figure><img class="cn-img" id="cn-image-m6-c-10" src="CloudNetworkingConcepts_files/image-m6-c-10.jpg" alt="Figure 1.11 Screenshot of PLABWIN10: The Create virtual network page is displayed, showing the enabling of the firewall for the Virtual network."><figcaption>Figure
 1.11 Screenshot of PLABWIN10: The Create virtual network page is 
displayed, showing the enabling of the firewall for the Virtual network.</figcaption></figure><p></p>

<h4 id="cn-m6-147"><b><i>Step 12</i></b></h4>

<p id="cn-m6-148">From <b>Public IP address</b>, click the <b>Create new </b>weblink.</p>

<p id="cn-m6-149">From the <b>Add a public IP address </b>window, in the <b>Name </b>textbox, type the following:</p>

<pre id="cn-m6-150"><code>PlabFWIP

</code></pre>

<p id="cn-m6-151">Click <b>OK</b>.</p>

<p id="cn-m6-152"></p><figure><img class="cn-img" id="cn-image-m6-c-11" src="CloudNetworkingConcepts_files/image-m6-c-11.jpg" alt="Figure 1.12 Screenshot of PLABWIN10: The Add a public IP address pop-up window is displayed with the Name field typed in and the OK button highlighted."><figcaption>Figure
 1.12 Screenshot of PLABWIN10: The Add a public IP address pop-up window
 is displayed with the Name field typed in and the OK button 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-154"><b><i>Step 13</i></b></h4>

<p id="cn-m6-155">Notice the <b>Public IP address </b>dropdown now shows <b>(New) PlabFWIP</b>.</p>

<p id="cn-m6-156">Click the <b>Review + create </b>button.</p>

<p id="cn-m6-157"></p><figure><img class="cn-img" id="cn-image-m6-c-12" src="CloudNetworkingConcepts_files/image-m6-c-12.jpg" alt="Figure 1.13 Screenshot of PLABWIN10: The Create virtual network page is displayed with the Review and create button highlighted."><figcaption>Figure 1.13 Screenshot of PLABWIN10: The Create virtual network page is displayed with the Review and create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-159"><b><i>Step 14</i></b></h4>

<p id="cn-m6-160">Notice that the validation process begins.</p>

<p id="cn-m6-161"></p><figure><img class="cn-img" id="cn-image-m6-c-13" src="CloudNetworkingConcepts_files/image-m6-c-13.jpg" alt="Figure 1.14 Screenshot of PLABWIN10: The Create virtual network page is displayed, showing the validation process starting."><figcaption>Figure 1.14 Screenshot of PLABWIN10: The Create virtual network page is displayed, showing the validation process starting.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-164"><b><i>Note</i></b><i>: vNet creation does not allow for usage, and requires creation of vNICs to connect to the vNET.</i></span>

<h4 id="cn-m6-165"><b><i>Step 15</i></b></h4>

<p id="cn-m6-166">Once you see the message <b>Validation passed </b>with a <b>tick </b>icon, from the <b>Review + create </b>tab, click the <b>Create </b>button.</p>

<p id="cn-m6-167"></p><figure><img class="cn-img" id="cn-image-m6-c-14" src="CloudNetworkingConcepts_files/image-m6-c-14.jpg" alt="Figure 1.15 Screenshot of PLABWIN10: The Create virtual network page is displayed with the Create button highlighted."><figcaption>Figure 1.15 Screenshot of PLABWIN10: The Create virtual network page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-169"><b><i>Step 16</i></b></h4>

<p id="cn-m6-170">The <b>Deployment is in progress </b>message will appear.</p>

<p id="cn-m6-171"></p><figure><img class="cn-img" id="cn-image-m6-c-15" src="CloudNetworkingConcepts_files/image-m6-c-15.jpg" alt="Figure 1.16 Screenshot of PLABWIN10: The Microsoft.VirtualNetwork{…] page is displayed showing the deployment is in progress message."><figcaption>Figure
 1.16 Screenshot of PLABWIN10: The Microsoft.VirtualNetwork{…] page is 
displayed showing the deployment is in progress message.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-173"><b><i>Note</i></b><i>: The deployment may take a few minutes to complete.</i></span>

<h4 id="cn-m6-174"><b><i>Step 17</i></b></h4>

<p id="cn-m6-175">Once you see the message <b>Your deployment is complete</b>, click the <b>Go to resource </b>button.</p>

<p id="cn-m6-176"></p><figure><img class="cn-img" id="cn-image-m6-c-16" src="CloudNetworkingConcepts_files/image-m6-c-16.jpg" alt="Figure 1.17 Screenshot of PLABWIN10: The Microsoft.VirtualNetwork{…] page is displayed showing the Your deployment is complete message and the Go to resource button highlighted."><figcaption>Figure
 1.17 Screenshot of PLABWIN10: The Microsoft.VirtualNetwork{…] page is 
displayed showing the Your deployment is complete message and the Go to 
resource button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-178"><b><i>Step 18</i></b></h4>

<p id="cn-m6-179">From the <b>CloudPlusVnet01 - Virtual network </b>page, under <b>Settings </b>in the left-hand pane, click <b>Address space</b>.</p>

<p id="cn-m6-180"></p><figure><img class="cn-img" id="cn-image-m6-c-17" src="CloudNetworkingConcepts_files/image-m6-c-17.jpg" alt="Figure 1.18 Screenshot of PLABWIN10: The CloudPlusVnet01 - Virtual network page is displayed with the Address space option under Settings in the left-hand pane highlighted."><figcaption>Figure
 1.18 Screenshot of PLABWIN10: The CloudPlusVnet01 - Virtual network 
page is displayed with the Address space option under Settings in the 
left-hand pane highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-182"><b><i>Step 19</i></b></h4>

<p id="cn-m6-183">Notice the IP addresses you added in earlier are now appearing, showing the <b>Address space</b>, <b>Address range </b>and <b>Address count </b>details.</p>

<p id="cn-m6-185"></p><figure><img class="cn-img" id="cn-image-m6-c-18" src="CloudNetworkingConcepts_files/image-m6-c-18.jpg" alt="Figure 1.19 Screenshot of PLABWIN10: The CloudPlusVnet01 | Address space page is displayed with the IP addresses added earlier listed."><figcaption>Figure
 1.19 Screenshot of PLABWIN10: The CloudPlusVnet01 | Address space page 
is displayed with the IP addresses added earlier listed.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-187"><b>Alert</b>: Creating a new Vnet 
that overlaps with the existing address spaces in another virtual 
network will cause conflicts and will result in an error.</span>

<span class="cn-alert" id="cn-m6-189">Keep <b>PLABWIN10 </b>in this current state for the next task.</span>

<h3 id="cn-m6-190"><b>Task 2 - Create a Subnet in Microsoft Azure</b></h3>

<p id="cn-m6-191">Subnets need to be created when creating a virtual network. These subnets are used to group related resources together.</p>

<p id="cn-m6-192">The <b>Subnet </b>section within <b>Microsoft Azure </b>allows
 you to add named subnets for smaller segmentations. If we want to, we 
can apply individual security controls&nbsp;to the different subnets 
that we create.</p>

<p id="cn-m6-193">That's one of the things that network segmentation 
allows you the ability to do, not only shortening up broadcast domains 
in the traditional sense, but more importantly, here in the cloud.</p>

<p id="cn-m6-194">It also allows us to add security features to each 
different segment that allows us&nbsp;to control the security settings 
individually and for compliance purposes</p>

<p id="cn-m6-195">In this task, you will create a subnet for the group named CloudPlusSnet01.</p>

<h4 id="cn-m6-197"><b><i>Step 1</i></b></h4>

<p id="cn-m6-198">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>&gt;<b>Virtual network &gt; CloudPlusVnet01 </b>is displayed.</p>

<p id="cn-m6-199">Under <b>Settings</b>, click <b>Subnets</b>.</p>

<p id="cn-m6-200"></p><figure><img class="cn-img" id="cn-image-m6-c-19" src="CloudNetworkingConcepts_files/image-m6-c-19.jpg" alt="Figure 1.20 Screenshot of PLABWIN10: The CloudPlusVnet01 | Address space page is displayed with the Subnets option under Settings in the left-hand pane highlighted."><figcaption>Figure
 1.20 Screenshot of PLABWIN10: The CloudPlusVnet01 | Address space page 
is displayed with the Subnets option under Settings in the left-hand 
pane highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-202"><b><i>Step 2</i></b></h4>

<p id="cn-m6-203">Click + <b>Subnet</b>.</p>

<p id="cn-m6-204"></p><figure><img class="cn-img" id="cn-image-m6-c-20" src="CloudNetworkingConcepts_files/image-m6-c-20.jpg" alt="Figure 1.21 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnet page is displayed with the Subnet button highlighted."><figcaption>Figure 1.21 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnet page is displayed with the Subnet button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-206"><b><i>Step 3</i></b></h4>

<p id="cn-m6-207">In the <b>Add subnet </b>fly-out menu, type the following:</p>

<p id="cn-m6-208"><b>Name:</b></p>

<pre id="cn-m6-209"><code>CloudPlusSnet01

</code></pre>

<p id="cn-m6-211">In the <b>Subnet address range </b>textbox, replace the existing address with:</p>

<pre id="cn-m6-212"><code>172.16.1.0/25

</code></pre>

<p id="cn-m6-213"></p><figure><img class="cn-img" id="cn-image-m6-c-21" src="CloudNetworkingConcepts_files/image-m6-c-21.jpg" alt="Figure 1.22 Screenshot of PLABWIN10: The Add subnet window is displayed with CloudPlusSnet01 typed-in name textbox and the Subnet address range textbox filled with 172.16.1.0/25."><figcaption>Figure
 1.22 Screenshot of PLABWIN10: The Add subnet window is displayed with 
CloudPlusSnet01 typed-in name textbox and the Subnet address range 
textbox filled with 172.16.1.0/25.</figcaption></figure><p></p>

<h4 id="cn-m6-215"><b><i>Step 4</i></b></h4>

<p id="cn-m6-216">Click the <b>Services</b>, dropdown, scroll to the top of the list and tick the <b>Select all </b>checkbox.</p>

<p id="cn-m6-217">Click <b>Save</b>.</p>

<p id="cn-m6-218"></p><figure><img class="cn-img" id="cn-image-m6-c-22" src="CloudNetworkingConcepts_files/image-m6-c-22.jpg" alt="Figure 1.23 Screenshot of PLABWIN10: The Add subnet window is displayed with the Select all checkbox ticked under Services and the Save button highlighted."><figcaption>Figure
 1.23 Screenshot of PLABWIN10: The Add subnet window is displayed with 
the Select all checkbox ticked under Services and the Save button 
highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-220"><b><i>Note</i></b><i>: Specific 
service endpoints can be specified when creating a new virtual network. 
This is used for securing network traffic on the network by specifying 
only allowed traffic for the virtual network.</i></span>

<h4 id="cn-m6-221"><b><i>Step 5</i></b></h4>

<p id="cn-m6-222">An <b>Adding subnet </b>notification will briefly appear in the top right-hand corner.</p>

<p id="cn-m6-223"></p><figure><img class="cn-img" id="cn-image-m6-c-23" src="CloudNetworkingConcepts_files/image-m6-c-23.jpg" alt="Figure 1.24 Screenshot of PLABWIN10: The Add subnet window is displayed with the Adding subnet notification shown in the top right-hand corner."><figcaption>Figure
 1.24 Screenshot of PLABWIN10: The Add subnet window is displayed with 
the Adding subnet notification shown in the top right-hand corner.</figcaption></figure><p></p>

<h4 id="cn-m6-225"><b><i>Step 6</i></b></h4>

<p id="cn-m6-226">Notice that your newly created <b>CloudPlusSnet01 </b>subnet now appears in the subnet list.</p>

<p id="cn-m6-227"></p><figure><img class="cn-img" id="cn-image-m6-c-24" src="CloudNetworkingConcepts_files/image-m6-c-24.jpg" alt="Figure 1.25 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnets page is displayed, showing the newly created CloudPlusSnet01 subnet in the subnet list."><figcaption>Figure
 1.25 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnets page is 
displayed, showing the newly created CloudPlusSnet01 subnet in the 
subnet list.</figcaption></figure><p></p>

<h4 id="cn-m6-229"><b><i>Step 7</i></b></h4>

<p id="cn-m6-230">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-231"></p><figure><img class="cn-img" id="cn-image-m6-c-25" src="CloudNetworkingConcepts_files/image-m6-c-25.jpg" alt="Figure 1.26 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnets page is displayed with the Home weblink highlighted."><figcaption>Figure 1.26 Screenshot of PLABWIN10: The CloudPlusVnet01 | Subnets page is displayed with the Home weblink highlighted.</figcaption></figure><p></p>

<span class="atom-code hidden">87fab35c-2831-4202-b4f1-46339fa6c815</span>

<span class="cn-alert" id="cn-m6-236">Keep <b>PLABWIN10 </b>in this current state for the next exercise.</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-238"><b>Exercise 2 - Network Services in Cloud Security </b></h2>

<p id="cn-m6-239">After the initial creation of a virtual network, 
additional steps will need to be taken to control access to these 
connections. In this exercise, you will explore the creation of subnets 
and firewalls.</p>

<p id="cn-m6-240">In a simplistic explanation, subnets are primarily 
used to subdivide a range of IP addresses within a network. This becomes
 useful when you are attempting to separate resources by functionality 
and granted access.</p>

<p id="cn-m6-241">Firewalls operate as a list of rules that the network 
connections associated with the firewall must adhere to in order to 
allow or deny traffic. Leveraging the configuration of a firewall allows
 for a more granular control of network connections.</p>

<p id="cn-m6-243">In this exercise, you will configure a virtual network and apply firewall configurations.</p>

<h2 class="cn-learningobjectives"><b>Learning Outcomes</b></h2>

<p id="cn-m6-245">After completing this exercise, you should be able to:</p>

<ul id="cn-m6-246">

<li id="cn-m6-246">Configure a virtual network subnet and firewall</li>

</ul>

<h2 class="cn-devices"><b>Your Devices</b></h2>

<p id="cn-m6-248">You will be using the following devices in this lab. Please power these on now.</p>

<span class="atom-code hidden">af4fa57a-53be-4f51-bf97-9ac3495df239</span>

<ul id="cn-m6-252">

<li id="cn-m6-252"><b>PLABWIN10 </b>- Standalone Azure Workstation (Windows 10)</li>

</ul>

<h3 id="cn-m6-254"><b>Task 1 - Configure a Virtual Network</b></h3>

<p id="cn-m6-255">After a virtual network has been created, it needs to 
be configured to ensure that it meets the requirements for connecting 
the specific resources and devices.</p>

<p id="cn-m6-256">In this task, further configurations will be applied 
to a virtual network to ensure the network's security and the devices' 
security when connecting to the network.</p>

<h4 id="cn-m6-257"><b><i>Step 1</i></b></h4>

<p id="cn-m6-258">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>window is displayed.</p>

<p id="cn-m6-259"></p><figure><img class="cn-img" id="cn-image-m6-c-26" src="CloudNetworkingConcepts_files/image-m6-c-26.jpg" alt="Figure 2.1 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed."><figcaption>Figure 2.1 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed.</figcaption></figure><p></p>

<h4 id="cn-m6-261"><b><i>Step 2</i></b></h4>

<p id="cn-m6-262">From the <b>Azure Portal, </b>click or search for <b>Resource groups</b>.</p>

<p id="cn-m6-263"></p><figure><img class="cn-img" id="cn-image-m6-c-27" src="CloudNetworkingConcepts_files/image-m6-c-27.jpg" alt="Figure 2.2 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed with the Resource group button highlighted."><figcaption>Figure 2.2 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed with the Resource group button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-265"><b><i>Step 3</i></b></h4>

<p id="cn-m6-266">From the <b>Resource groups </b>page, select the pre-populated resource group listed.</p>

<p id="cn-m6-267"></p><figure><img class="cn-img" id="cn-image-m6-c-28" src="CloudNetworkingConcepts_files/image-m6-c-28.jpg" alt="Figure 2.3 Screenshot of PLABWIN10: The Resource groups page is displayed with the pre-populated resource group highlighted."><figcaption>Figure 2.3 Screenshot of PLABWIN10: The Resource groups page is displayed with the pre-populated resource group highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-269"><b><i>Step 4</i></b></h4>

<p id="cn-m6-270">From the list shown, select the <b>CloudPlusVnet01 </b>virtual network in the pre-populated resource group.</p>

<p id="cn-m6-271"></p><figure><img class="cn-img" id="cn-image-m6-c-29" src="CloudNetworkingConcepts_files/image-m6-c-29.jpg" alt="Figure 2.4 Screenshot of PLABWIN10: The Stg_ricky resource group page is displayed with the new virtual network highlighted."><figcaption>Figure 2.4 Screenshot of PLABWIN10: The Stg_ricky resource group page is displayed with the new virtual network highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-273"><b><i>Step 5</i></b></h4>

<p id="cn-m6-274">In the <b>Settings </b>pane, select <b>Address space</b>.</p>

<p id="cn-m6-275"></p><figure><img class="cn-img" id="cn-image-m6-c-30" src="CloudNetworkingConcepts_files/image-m6-c-30.jpg" alt="Figure 2.5 Screenshot of PLABWIN10: The CloudPlusVnet01 virtual machine page is displayed with the Address space option highlighted under Settings."><figcaption>Figure
 2.5 Screenshot of PLABWIN10: The CloudPlusVnet01 virtual machine page 
is displayed with the Address space option highlighted under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-277"><b><i>Step 6</i></b></h4>

<p id="cn-m6-278">In the <b>CloudPlusVnet01 | Address space </b>window, click into the <b>Add additional address range </b>textbox.</p>

<p id="cn-m6-279"></p><figure><img class="cn-img" id="cn-image-m6-c-31" src="CloudNetworkingConcepts_files/image-m6-c-31.jpg" alt="Figure 2.6 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page is displayed with the cursor clicked into the Add an additional address range textbox."><figcaption>Figure
 2.6 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page 
is displayed with the cursor clicked into the Add an additional address 
range textbox.</figcaption></figure><p></p>

<h4 id="cn-m6-281"><b><i>Step 7</i></b></h4>

<p id="cn-m6-282">Type the following:</p>

<pre id="cn-m6-283"><code>192.168.2.0/24

</code></pre>

<p id="cn-m6-284">Click <b>Save</b>.</p>

<p id="cn-m6-285"></p><figure><img class="cn-img" id="cn-image-m6-c-32" src="CloudNetworkingConcepts_files/image-m6-c-32.jpg" alt="Figure 2.7 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page is displayed and showing an additional IP range typed into the Address space textbox."><figcaption>Figure
 2.7 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page 
is displayed and showing an additional IP range typed into the Address 
space textbox.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-287"><b><i>Note: </i></b><i>After a 
virtual network has been created, additional IP ranges can be added to 
the virtual network. The addition might be needed if more virtual 
appliances are added or if more network segmentation is needed.</i></span>

<h4 id="cn-m6-288"><b><i>Step 8</i></b></h4>

<p id="cn-m6-289">Under <b>Settings</b>, select <b>Connected devices</b>.</p>

<p id="cn-m6-290"></p><figure><img class="cn-img" id="cn-image-m6-c-33" src="CloudNetworkingConcepts_files/image-m6-c-33.jpg" alt="Figure 2.8 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page is displayed with the Connected devices option highlighted under Settings."><figcaption>Figure
 2.8 Screenshot of PLABWIN10: The CloudPLusVnet01 | Address space page 
is displayed with the Connected devices option highlighted under 
Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-292"><b><i>Step 9</i></b></h4>

<p id="cn-m6-293">The devices connected to the virtual network are 
displayed here with the specific IP addresses allocated to them from the
 pool of IP addresses assigned when the Virtual network was created.</p>

<p id="cn-m6-294">Notice that <b>PlabFW </b>Firewall type is a connected device.</p>

<p id="cn-m6-295">Under <b>Settings</b>, select <b>Subnets</b>.</p>

<p id="cn-m6-296"></p><figure><img class="cn-img" id="cn-image-m6-c-34" src="CloudNetworkingConcepts_files/image-m6-c-34.jpg" alt="Figure 2.9 Screenshot of PLABWIN10: The CloudPLusVnet01 | Connected devices page is displayed with the Subnets option highlighted under Settings."><figcaption>Figure
 2.9 Screenshot of PLABWIN10: The CloudPLusVnet01 | Connected devices 
page is displayed with the Subnets option highlighted under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-298"><b><i>Step 10</i></b></h4>

<p id="cn-m6-299">Click <b>Subnet</b>.</p>

<p id="cn-m6-301"></p><figure><img class="cn-img" id="cn-image-m6-c-35" src="CloudNetworkingConcepts_files/image-m6-c-35.jpg" alt="Figure 2.10 Screenshot of PLABWIN10: The CloudPLusVnet01 | Subnets page is displayed with the Subnet button highlighted."><figcaption>Figure 2.10 Screenshot of PLABWIN10: The CloudPLusVnet01 | Subnets page is displayed with the Subnet button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-303"><b><i>Step 11</i></b></h4>

<p id="cn-m6-304">In the <b>Add subnet </b>fly-out window, enter the following:</p>

<p id="cn-m6-305"><b>Name:</b></p>

<pre id="cn-m6-306"><code>Webservers

</code></pre>

<p id="cn-m6-308">In the <b>Subnet address range textbox</b>, replace the existing address with:</p>

<pre id="cn-m6-309"><code>192.168.2.0/24

</code></pre>

<p id="cn-m6-310"></p><figure><img class="cn-img" id="cn-image-m6-c-36" src="CloudNetworkingConcepts_files/image-m6-c-36.jpg" alt="Figure 2.11 Screenshot of PLABWIN10: The Add subnet fly-out window is displayed with the values typed into the Name and Subnet address range text boxes."><figcaption>Figure
 2.11 Screenshot of PLABWIN10: The Add subnet fly-out window is 
displayed with the values typed into the Name and Subnet address range 
text boxes.</figcaption></figure><p></p>

<h4 id="cn-m6-312"><b><i>Step 12</i></b></h4>

<p id="cn-m6-313">From the <b>SERVICE ENDPOINTS </b>section, click the <b>Services </b>dropdown and tick <b>Microsoft.Web</b>.</p>

<p id="cn-m6-314"></p><figure><img class="cn-img" id="cn-image-m6-c-37" src="CloudNetworkingConcepts_files/image-m6-c-37.jpg" alt="Figure 2.12 Screenshot of PLABWIN10: The Add subnet fly-out window is displayed with the Microsoft.Web checkbox ticked."><figcaption>Figure 2.12 Screenshot of PLABWIN10: The Add subnet fly-out window is displayed with the Microsoft.Web checkbox ticked.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-316"><b><i>Note: </i></b><i>Enabling the Microsoft.Web service endpoint will secure the network communication for this application.</i></span>

<h4 id="cn-m6-317"><b><i>Step 13</i></b></h4>

<p id="cn-m6-318">Click <b>Save</b>.</p>

<p id="cn-m6-319"></p><figure><img class="cn-img" id="cn-image-m6-c-38" src="CloudNetworkingConcepts_files/image-m6-c-38.jpg" alt="Figure 2.13 Screenshot of PLABWIN10: The Add subnet fly-out window is displayed with the Save button highlighted."><figcaption>Figure 2.13 Screenshot of PLABWIN10: The Add subnet fly-out window is displayed with the Save button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-321"><b><i>Note</i></b><i>: Close the </i><b><i>Add subnet </i></b><i>fly-out menu, if it does not close automatically.</i></span>

<h4 id="cn-m6-322"><b><i>Step 14</i></b></h4>

<p id="cn-m6-323">Under <b>Settings</b>, click <b>Firewall</b>.</p>

<p id="cn-m6-324"></p><figure><img class="cn-img" id="cn-image-m6-c-39" src="CloudNetworkingConcepts_files/image-m6-c-39.jpg" alt="Figure 2.14 Screenshot of PLABWIN10: CloudPlusNvet01 | Subnet page is displayed with the Firewall option highlighted under Settings."><figcaption>Figure
 2.14 Screenshot of PLABWIN10: CloudPlusNvet01 | Subnet page is 
displayed with the Firewall option highlighted under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-326"><b><i>Step 15</i></b></h4>

<p id="cn-m6-327">Click <b>PlabFW</b>.</p>

<p id="cn-m6-328"></p><figure><img class="cn-img" id="cn-image-m6-c-40" src="CloudNetworkingConcepts_files/image-m6-c-40.jpg" alt="Figure 2.15 Screenshot of PLABWIN10: the CloudPlusVnet01 | Firewall is displayed with PlabFW highlighted."><figcaption>Figure 2.15 Screenshot of PLABWIN10: the CloudPlusVnet01 | Firewall is displayed with PlabFW highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-330"><b><i>Step 16</i></b></h4>

<p id="cn-m6-331">Notice that the details of the <b>PlabFW </b>Firewall are shown.</p>

<p id="cn-m6-332">Under <b>Settings</b>, click <b>Rules (classic</b>).</p>

<span class="cn-alert" id="cn-m6-333"><b>Alert</b>: In the lab environment, this may show as <b>Rules</b>. This is due to ongoing updates to the Azure platform.</span>

<p id="cn-m6-334"></p><figure><img class="cn-img" id="cn-image-m6-c-41" src="CloudNetworkingConcepts_files/image-m6-c-41.jpg" alt="Figure 2.16 Screenshot of PLABWIN10: The PlabFW Firewall page is displayed with the Rules (classic) option highlighted under Settings."><figcaption>Figure
 2.16 Screenshot of PLABWIN10: The PlabFW Firewall page is displayed 
with the Rules (classic) option highlighted under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-336"><b><i>Step 17</i></b></h4>

<p id="cn-m6-337">From the <b>PlabFW | Rules (classic) </b>window, click the <b>Network rule collection </b>tab.</p>

<p id="cn-m6-338"></p><figure><img class="cn-img" id="cn-image-m6-c-42" src="CloudNetworkingConcepts_files/image-m6-c-42.jpg" alt="Figure 2.17 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is displayed with the Network rule collection tab highlighted."><figcaption>Figure
 2.17 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is 
displayed with the Network rule collection tab highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-340"><b><i>Step 18</i></b></h4>

<p id="cn-m6-341">Select the <b>Add network rule collection </b>weblink.</p>

<p id="cn-m6-342"></p><figure><img class="cn-img" id="cn-image-m6-c-43" src="CloudNetworkingConcepts_files/image-m6-c-43.jpg" alt="Figure 2.18 Screenshot of PLABWIN10: The PlabFW | Rules (classic) Network rule collection tab is displayed with the Add network rule collection weblink highlighted."><figcaption>Figure
 2.18 Screenshot of PLABWIN10: The PlabFW | Rules (classic) Network rule
 collection tab is displayed with the Add network rule collection 
weblink highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-344"><b><i>Step 19</i></b></h4>

<p id="cn-m6-345">From the <b>Add network rule connection </b>window, type the following:</p>

<p id="cn-m6-346"><b>Name:</b></p>

<pre id="cn-m6-347"><code>PlabRDP

</code></pre>

<p id="cn-m6-348"><b>Priority:</b></p>

<pre id="cn-m6-349"><code>100

</code></pre>

<p id="cn-m6-350"></p><figure><img class="cn-img" id="cn-image-m6-c-44" src="CloudNetworkingConcepts_files/image-m6-c-44.jpg" alt="Figure 2.19 Screenshot of PLABWIN10: The Add network rule collection page is displayed with the Name and Priority fields typed in."><figcaption>Figure
 2.19 Screenshot of PLABWIN10: The Add network rule collection page is 
displayed with the Name and Priority fields typed in.</figcaption></figure><p></p>

<h4 id="cn-m6-352"><b><i>Step 20</i></b></h4>

<p id="cn-m6-353">Under <b>IP Addresses</b>, complete the following:</p>

<pre id="cn-m6-354"><code>Name: RDP

Protocol: TCP

Source type: IP address

Source: 192.168.0.5

Destination type: IP address

Destination Address: 192.168.1.5

Destination Ports: 3389

</code></pre>

<p id="cn-m6-361">Click <b>Add</b>.</p>

<p id="cn-m6-362"></p><figure><img class="cn-img" id="cn-image-m6-c-45" src="CloudNetworkingConcepts_files/image-m6-c-45.jpg" alt="Figure 2.20 Screenshot of PLABWIN10: The Add network rule collection page is displayed, showing the creation of a firewall rule to allow an RDP connection to a specific device added."><figcaption>Figure
 2.20 Screenshot of PLABWIN10: The Add network rule collection page is 
displayed, showing the creation of a firewall rule to allow an RDP 
connection to a specific device added.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-364"><b><i>Note: </i></b><i>The rule 
creation may take a couple of minutes to complete. A firewall rule has 
been created to allow a Remote desktop connection between the two 
specified IP addresses. Similarly, additional firewall rules can be 
added to secure network traffic that traverses across Azure's virtual 
network.</i></span>

<h4 id="cn-m6-365"><b><i>Step 21</i></b></h4>

<p id="cn-m6-366">Once you are returned to the <b>PlabFW | Rules (classic) </b>page, <b>refresh </b>the page.</p>

<p id="cn-m6-367">Then, click the <b>Network rule collection </b>tab.</p>

<p id="cn-m6-368"></p><figure><img class="cn-img" id="cn-image-m6-c-46" src="CloudNetworkingConcepts_files/image-m6-c-46.jpg" alt="Figure 2.21 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is displayed with the Network rule collection tab highlighted."><figcaption>Figure
 2.21 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is 
displayed with the Network rule collection tab highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-370"><b><i>Step 22</i></b></h4>

<p id="cn-m6-371">Notice the newly created network rule appears.</p>

<p id="cn-m6-372"></p><figure><img class="cn-img" id="cn-image-m6-c-47" src="CloudNetworkingConcepts_files/image-m6-c-47.jpg" alt="Figure 2.22 Screenshot of PLABWIN10: The PlabFW | Rules (classic) - Network rule collection tab is displayed, showing the newly created rule."><figcaption>Figure
 2.22 Screenshot of PLABWIN10: The PlabFW | Rules (classic) - Network 
rule collection tab is displayed, showing the newly created rule.</figcaption></figure><p></p>

<span class="atom-code hidden">87fab35c-2831-4202-b4f1-46339fa6c815</span>

<h4 id="cn-m6-376"><b><i>Step 23</i></b></h4>

<p id="cn-m6-377">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-378"></p><figure><img class="cn-img" id="cn-image-m6-c-48" src="CloudNetworkingConcepts_files/image-m6-c-48.jpg" alt="Figure 1.23 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is displayed with the Home weblink highlighted."><figcaption>Figure 1.23 Screenshot of PLABWIN10: The PlabFW | Rules (classic) page is displayed with the Home weblink highlighted.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-380">Keep <b>PLABWIN10 </b>in this current state for the next exercise.</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-382"><b>Exercise 3 - Protocols to Secure Cloud Traffic</b></h2>

<p id="cn-m6-383">Because the Azure Portal is, first and foremost, a GUI
 interface, it is the easiest interface tool to use when you start using
 the Azure cloud platform. However, it can be challenging to perform 
complex or repetitive tasks using the GUI. Because of this, Azure also 
offers several command-line options that make these kinds of tasks 
easier to complete.</p>

<p id="cn-m6-384">The main command-line environment for Azure is Cloud 
Shell. Cloud Shell is an interactive, authenticated, browser-based shell
 environment that you can use to deploy, manage, and develop Azure 
resources.</p>

<p id="cn-m6-385">One way to think of Cloud Shell is that it is an 
interactive console that runs in the cloud. Cloud Shell provides the 
flexibility of choosing between two shell environments depending on the 
way that suits the way you work:</p>

<ul id="cn-m6-386">

<li id="cn-m6-386">Bash: Defaults to the Azure Command-Line Interface 
(CLI) (the az command is pre-installed). You can switch to the 
PowerShell Core within Linux by executing the pwsh command.</li>

<li id="cn-m6-387"><b>PowerShell</b>: Defaults to Windows PowerShell, but you can switch to Azure CLI</li>

</ul>

<p id="cn-m6-388">There are a number of ways to access Azure Cloud Shell:</p>

<ul id="cn-m6-389">

<li id="cn-m6-389"><b>Azure Portal</b>: Click the Cloud Shell icon in the Azure Portal.</li>

<li id="cn-m6-390"><b>Direct link</b>: Navigate with a web browser to: https://shell.azure.com</li>

</ul>

<p id="cn-m6-391">In this exercise, you will explore some use cases of the Azure cloud shell, by provisioning a virtual machine.</p>

<h2 class="cn-learningobjectives"><b>Learning Outcomes</b></h2>

<p id="cn-m6-394">After completing this exercise, you will be able to:</p>

<ul id="cn-m6-395">

<li id="cn-m6-395">Explore the Azure Cloud Shell</li>

<li id="cn-m6-396">Create a Virtual Machine in Azure Cloud Shell using PowerShell</li>

<li id="cn-m6-397">Confirm successful creation of a Virtual Machine via SSH connection in Bash</li>

</ul>

<h2 class="cn-devices"><b>Your Devices</b></h2>

<p id="cn-m6-399">You will be using the following device in this lab. Please power this on now.</p>

<span class="atom-code hidden">af4fa57a-53be-4f51-bf97-9ac3495df239</span>

<ul id="cn-m6-403">

<li id="cn-m6-403"><b>PLABWIN10 </b>- Standalone Azure Workstation (Windows 10)</li>

</ul>

<h3 id="cn-m6-404"><b>Task 1 - Explore Azure Cloud Shell</b></h3>

<p id="cn-m6-405">Cloud Shell runs on a temporary host that is provided 
on a per-user, per-session basis. The shell times out after twenty 
minutes of inactivity.</p>

<p id="cn-m6-406">Cloud Shell creates files using both of the following methods:</p>

<ul id="cn-m6-407">

<li id="cn-m6-407">Cloud Shell creates a disk image of your $Home 
directory. This disk image allows all contents within the directory to 
persist. The disk image automatically syncs changes and is saved in your
 specified file share.</li>

<li id="cn-m6-408">Cloud Shell mounts your specified file share as cloud
 drive in your $Home directory. This file share allows for direct 
file-share interactions. The file share /Home//cloud drive is mapped to 
fileshare.storage.windows.net/fileshare.</li>

</ul>

<p id="cn-m6-409">When you first access the Azure Cloud Shell, you will 
be prompted to create an Azure Storage Account and an Azure File Share. 
This is a one-time process and will be automatically attached for all 
future sessions. The mounted file share named cloud drive is used for 
both Bash and PowerShell.</p>

<p id="cn-m6-410">Any data or scripts that you place here are maintained
 across sessions. The storage account for each subscription is unique, 
which means you can keep the tools and data you need specific to each 
account you manage.</p>

<p id="cn-m6-411">This is task, you will explore the Cloud Shell feature in Microsoft Azure.</p>

<h4 id="cn-m6-412"><b><i>Step 1</i></b></h4>

<p id="cn-m6-413">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>home page is displayed.</p>

<p id="cn-m6-414"></p><figure><img class="cn-img" id="cn-image-m6-c-49" src="CloudNetworkingConcepts_files/image-m6-c-49.jpg" alt="Figure 3.1 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed."><figcaption>Figure 3.1 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed.</figcaption></figure><p></p>

<h4 id="cn-m6-416"><b><i>Step 2</i></b></h4>

<p id="cn-m6-417">On the navigation pane at the top of the screen, click on the <b>Cloud Shell </b>icon, located to the right of the <b>Search </b>bar.</p>

<p id="cn-m6-418"></p><figure><img class="cn-img" id="cn-image-m6-c-50" src="CloudNetworkingConcepts_files/image-m6-c-50.jpg" alt="Figure 3.2 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed with the Cloud Shell code-style icon in the toolbar highlighted."><figcaption>Figure
 3.2 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed with the Cloud Shell code-style icon in the toolbar 
highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-421"><b><i>Note</i></b><i>: Some Azure accounts may have the menu appear under </i><b><i>… </i></b><i>on the Toolbar rather than appear on the Toolbar as icons.</i></span>

<h4 id="cn-m6-422"><b><i>Step 3</i></b></h4>

<p id="cn-m6-423">This will open a pane on the bottom half of the screen. You will be told that you do not have any storage mounted.</p>

<p id="cn-m6-424">For this example, keep the default selection and click <b>Show advanced settings</b>.</p>

<p id="cn-m6-425"></p><figure><img class="cn-img" id="cn-image-m6-c-51" src="CloudNetworkingConcepts_files/image-m6-c-51.jpg" alt="Figure 3.3 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed with the Cloud Shell pane shown at the bottom section of the window. The Show advanced settings weblink is highlighted."><figcaption>Figure
 3.3 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed with the Cloud Shell pane shown at the bottom 
section of the window. The Show advanced settings weblink is 
highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-427"><b><i>Note</i></b><i>: If you were to click the </i><b><i>Create Storage </i></b><i>option, you will be met with an error due to restrictions existing in the lab environment.</i></span>

<h4 id="cn-m6-428"><b><i>Step 4</i></b></h4>

<p id="cn-m6-429">We will take this opportunity to create a new <b>Storage account </b>and <b>File Share</b>.</p>

<p id="cn-m6-430">Firstly, set the <b>Cloud Shell Region </b>to:</p>

<pre id="cn-m6-431"><code>UK South

</code></pre>

<p id="cn-m6-432">Under <b>Storage account</b>, type:</p>

<pre id="cn-m6-433"><code>plabstorage1

</code></pre>

<p id="cn-m6-434">Under <b>File share</b>, type:</p>

<pre id="cn-m6-435"><code>plabfiles1

</code></pre>

<p id="cn-m6-436">Leave everything else as the default selections and click <b>Create storage</b>.</p>

<p id="cn-m6-437"></p><figure><img class="cn-img" id="cn-image-m6-c-52" src="CloudNetworkingConcepts_files/image-m6-c-52.jpg" alt="Figure 3.4 Screenshot of PLABWIN10: The Cloud Shell - You have no storage mounted window is displayed with the fields typed in, and the Create storage button highlighted."><figcaption>Figure
 3.4 Screenshot of PLABWIN10: The Cloud Shell - You have no storage 
mounted window is displayed with the fields typed in, and the Create 
storage button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-439"><b><i>Note</i></b><i>: Please wait while Azure creates these resources. </i></span>

<h4 id="cn-m6-440"><b><i>Step 5</i></b></h4>

<p id="cn-m6-441">Once the resources have been created, Azure will open the <b>PowerShell </b>prompt.</p>

<p id="cn-m6-442">If you see a black empty screen, refresh the page to see the PowerShell prompt.</p>

<p id="cn-m6-443"></p><figure><img class="cn-img" id="cn-image-m6-c-53" src="CloudNetworkingConcepts_files/image-m6-c-53.jpg" alt="Figure 3.5 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed."><figcaption>Figure 3.5 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed.</figcaption></figure><p></p>

<h4 id="cn-m6-445"><b><i>Step 6</i></b></h4>

<p id="cn-m6-446">At the top left of this new pane, you can see a selection to switch between <b>PowerShell </b>and <b>Bash</b>. Click the dropdown and select <b>Bash</b>.</p>

<p id="cn-m6-447"></p><figure><img class="cn-img" id="cn-image-m6-c-54" src="CloudNetworkingConcepts_files/image-m6-c-54.jpg" alt="Figure 3.6 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed with the top corner dropdown expanded and the Bash option highlighted."><figcaption>Figure
 3.6 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is 
displayed with the top corner dropdown expanded and the Bash option 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-449"><b><i>Step 7</i></b></h4>

<p id="cn-m6-450">A message box will appear asking you if you wish to switch to <b>Bash</b>.</p>

<p id="cn-m6-451">Click <b>Confirm</b>.</p>

<p id="cn-m6-452"></p><figure><img class="cn-img" id="cn-image-m6-c-55" src="CloudNetworkingConcepts_files/image-m6-c-55.jpg" alt="Figure 3.7 Screenshot of PLABWIN10: The Cloud Shell - Switch to Bash in Cloud Shell window is displayed with the Confirm button highlighted."><figcaption>Figure
 3.7 Screenshot of PLABWIN10: The Cloud Shell - Switch to Bash in Cloud 
Shell window is displayed with the Confirm button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-454"><b><i>Note</i></b><i>: You can also do this by executing the </i><b><i>Bash </i></b><i>command while still in the </i><b><i>PowerShell </i></b><i>shell.</i></span>

<h4 id="cn-m6-455"><b><i>Step 8</i></b></h4>

<p id="cn-m6-456">As you can see, Azure has now opened the <b>Bash </b>shell.</p>

<p id="cn-m6-457">You can easily switch back to <b>PowerShell </b>by following the same process - click the dropdown once again and click <b>PowerShell</b>.</p>

<p id="cn-m6-458"></p><figure><img class="cn-img" id="cn-image-m6-c-56" src="CloudNetworkingConcepts_files/image-m6-c-56.jpg" alt="Figure 3.8 Screenshot of PLABWIN10: The Cloud Shell - Bash window is displayed with the top corner dropdown expanded and the PowerShell option highlighted."><figcaption>Figure
 3.8 Screenshot of PLABWIN10: The Cloud Shell - Bash window is displayed
 with the top corner dropdown expanded and the PowerShell option 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-460"><b><i>Step 9</i></b></h4>

<p id="cn-m6-461">Again, on the same message box, click <b>Confirm</b>.</p>

<p id="cn-m6-462"></p><figure><img class="cn-img" id="cn-image-m6-c-57" src="CloudNetworkingConcepts_files/image-m6-c-57.jpg" alt="Figure 3.9 Screenshot of PLABWIN10: The Cloud Shell - Switch to PowerShell in Cloud Shell window is displayed with Confirm button highlighted."><figcaption>Figure
 3.9 Screenshot of PLABWIN10: The Cloud Shell - Switch to PowerShell in 
Cloud Shell window is displayed with Confirm button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-464"><b><i>Step 10</i></b></h4>

<p id="cn-m6-465">This will now switch you back to <b>PowerShell</b>.</p>

<p id="cn-m6-466"></p><figure><img class="cn-img" id="cn-image-m6-c-58" src="CloudNetworkingConcepts_files/image-m6-c-58.jpg" alt="Figure 3.10 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed."><figcaption>Figure 3.10 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-468">Keep <b>PLABWIN10 </b>in this current state for the next task.</span>

<h3 id="cn-m6-470"><b>Task 2 - Create a VM with PowerShell</b></h3>

<p id="cn-m6-471">Now that we have learned to open and navigate the 
Azure Cloud Shell, ' 'let's see how we would use this practically by 
creating a Virtual Machine from scratch using PowerShell.</p>

<p id="cn-m6-472">In this task, you will create a virtual machine in Microsoft Azure using PowerShell.</p>

<h4 id="cn-m6-474"><b><i>Step 1</i></b></h4>

<p id="cn-m6-475">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>window is displayed.</p>

<span class="cn-alert" id="cn-m6-477"><b>Alert</b>: The following command is dependent on the <b>Resource Group </b>(<b>RG</b>) currently assigned to the user. This will be the same as your username. In this example, the user account <b>PS /home/stg_ricky </b>is shown, in PowerShell, so the Resource Group will be typed as <b>stg_ricky </b>in the command. Please replace the <b>XXXX </b>in the following command with your resource group name.</span>

<p id="cn-m6-479">To begin the process of creating our new VM, we will first type the following command, replacing the <b>XXXX </b>with your current username details:</p>

<pre id="cn-m6-480"><code>New-AzVm -ResourceGroupName <b>XXXX </b>-Name "powershell-vm-01" -Location "UK South" -SubnetName PLABSN01 -SecurityGroupName PLABSG01 -Size “Standard_A1_v2” -PublicIPAddressName PLABIP -Openports 22 -Image UbuntuLTS

</code></pre>

<p id="cn-m6-481">To explain the different aspects of this command:</p>

<ul id="cn-m6-482">

<li id="cn-m6-482"><b>New-AzVM </b>- Specifies that we are looking to create an Azure VM.</li>

<li id="cn-m6-483"><b>ResourceGroupName </b>- Specifies which RG this resource should be allocated.</li>

<li id="cn-m6-484"><b>Name </b>- Name of the device.</li>

<li id="cn-m6-485"><b>Location </b>- The Availability Zone that this resource will be assigned to</li>

<li id="cn-m6-486"><b>SubnetName </b>- The name of the Subnet for this VM.</li>

<li id="cn-m6-487"><b>SecurityGroup </b>- The name of the Security Group.</li>

<li id="cn-m6-488"><b>Size </b>- Allows you to set the SKU size of the device.</li>

<li id="cn-m6-489"><b>PublicIPAddressName </b>- The name of the public IP address for the device</li>

<li id="cn-m6-490"><b>Openports </b>- Specifies which ports to open for this VM.</li>

<li id="cn-m6-491"><b>Image </b>- Which OS or Disk Image you would like the machine to have</li>

</ul>

<p id="cn-m6-492">Press <b>Enter</b>.</p>

<p id="cn-m6-493"></p><figure><img class="cn-img" id="cn-image-m6-c-59" src="CloudNetworkingConcepts_files/image-m6-c-59.jpg" alt="Figure 3.11 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed with the commands typed in to start the process of creating our new virtual machine."><figcaption>Figure
 3.11 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is 
displayed with the commands typed in to start the process of creating 
our new virtual machine.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-495"><b><i>Note</i></b><i>: Due to restrictions in place in the lab environment, we have selected a basic </i><b><i>SKU size </i></b><i>of </i><b><i>Standard A1v2</i></b><i>.
 In a real-life scenario, you would use any specifications as necessary,
 depending on your budget. It is good to remember that each 
specification has a different cost association.</i></span>

<h4 id="cn-m6-496"><b><i>Step 2</i></b></h4>

<p id="cn-m6-497">You will be prompted to type your username and password for your new machine. Please type the following <b>User </b>credentials:</p>

<pre id="cn-m6-498"><code>Plabadmin

</code></pre>

<p id="cn-m6-499">Press <b>Enter</b>.</p>

<p id="cn-m6-500">Type the following <b>Password for user Plabadmin</b>:</p>

<span class="cn-password">Passw0rd1234</span>

<p id="cn-m6-502">Press <b>Enter</b>.</p>

<span class="cn-quote" id="cn-m6-503"><b><i>Note</i></b><i>: As you are typing the password, you will not get any feedback from PowerShell. This is by design.</i></span>

<p id="cn-m6-504"></p><figure><img class="cn-img" id="cn-image-m6-c-60" src="CloudNetworkingConcepts_files/image-m6-c-60.jpg" alt="Figure 3.12 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed with user and password credentials typed in."><figcaption>Figure
 3.12 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is 
displayed with user and password credentials typed in.</figcaption></figure><p></p>

<h4 id="cn-m6-506"><b><i>Step 3</i></b></h4>

<p id="cn-m6-507">Azure will begin creating your new virtual machine.</p>

<p id="cn-m6-508"></p><figure><img class="cn-img" id="cn-image-m6-c-61" src="CloudNetworkingConcepts_files/image-m6-c-61.jpg" alt="Figure 3.13 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed, showing the start of Azure creating your new virtual machine."><figcaption>Figure
 3.13 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is 
displayed, showing the start of Azure creating your new virtual machine.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-511"><b>Alert</b>: Creating the machine may take a variable amount of time to complete.</span>

<h4 id="cn-m6-512"><b><i>Step 4</i></b></h4>

<p id="cn-m6-513">Once complete, you will be returned to the <b>PowerShell </b>prompt. Scroll up to see the specifications listed for the new virtual machine.</p>

<p id="cn-m6-514"></p><figure><img class="cn-img" id="cn-image-m6-c-62" src="CloudNetworkingConcepts_files/image-m6-c-62.jpg" alt="Figure 3.14 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed, showing the specifications of the new virtual machine."><figcaption>Figure
 3.14 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is 
displayed, showing the specifications of the new virtual machine.</figcaption></figure><p></p>

<h4 id="cn-m6-516"><b><i>Step 5</i></b></h4>

<p id="cn-m6-517">Now the machine is created, click the <b>Close </b>icon of the <b>PowerShell </b>prompt to return to the main dashboard.</p>

<p id="cn-m6-518"></p><figure><img class="cn-img" id="cn-image-m6-c-63" src="CloudNetworkingConcepts_files/image-m6-c-63.jpg" alt="Figure 3.15 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed, showing the Close icon highlighted."><figcaption>Figure 3.15 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed, showing the Close icon highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-520"><b><i>Step 6</i></b></h4>

<p id="cn-m6-521">On  <b>Home</b>, click <b>Virtual machines</b>.</p>

<p id="cn-m6-522"></p><figure><img class="cn-img" id="cn-image-m6-c-64" src="CloudNetworkingConcepts_files/image-m6-c-64.jpg" alt="Figure 3.16 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed with the Virtual machines button highlighted."><figcaption>Figure 3.16 Screenshot of PLABWIN10: The Microsoft Azure portal is displayed with the Virtual machines button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-524"><b><i>Step 7</i></b></h4>

<p id="cn-m6-525">On the <b>Virtual Machines </b>page, you will see our new VM listed under the current subscription, and that it is currently running.</p>

<p id="cn-m6-526">Click the <b>powershell-vm-01 </b>weblink to view an overview of the new machine.</p>

<p id="cn-m6-528"></p><figure><img class="cn-img" id="cn-image-m6-c-65" src="CloudNetworkingConcepts_files/image-m6-c-65.jpg" alt="Figure 3.17 Screenshot of PLABWIN10: The Virtual Machines page is displayed with the powershell-vm-10 virtual machine listed."><figcaption>Figure 3.17 Screenshot of PLABWIN10: The Virtual Machines page is displayed with the powershell-vm-10 virtual machine listed.</figcaption></figure><p></p>

<h4 id="cn-m6-530"><b><i>Step 8</i></b></h4>

<p id="cn-m6-531">Notice the specifications of the new device is shown.</p>

<p id="cn-m6-532">As you can see, this is a much more time-efficient process than creating via the <b>Graphic User Interface </b>(<b>GUI</b>).</p>

<p id="cn-m6-533"></p><figure><img class="cn-img" id="cn-image-m6-c-66" src="CloudNetworkingConcepts_files/image-m6-c-66.jpg" alt="Figure 3.18 Screenshot of PLABWIN10: The powershell-vm01 page is displayed, showing the different specifications of the virtual machine."><figcaption>Figure
 3.18 Screenshot of PLABWIN10: The powershell-vm01 page is displayed, 
showing the different specifications of the virtual machine.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-535"><b><i>Note</i></b><i>: You can also automate creation of multiple machines at once - saving many hours of administrative effort using </i><b><i>JSON</i></b><i>.</i></span>

<span class="cn-alert" id="cn-m6-537">Keep <b>PLABWIN10 </b>in this current state for the next task.</span>

<h3 id="cn-m6-539"><b>Task 3 - Verify the Successful Creation of VM via SSH</b></h3>

<p id="cn-m6-540">Now that we have created a machine, ' 'let's connect 
to it using the same method - in this case, via Bash. We will connect 
via the Secure Shell, or SSH.</p>

<p id="cn-m6-541">This is a function that allows a user to connect 
directly to another networked IP address, typically useful for remote 
access to machines - or in our case, just to test connectivity.</p>

<p id="cn-m6-542">In this task, you will validate your virtual machine provisioning using bash in the Azure cloud shell.</p>

<h4 id="cn-m6-544"><b><i>Step 1</i></b></h4>

<p id="cn-m6-545">Ensure you are connected to <b>PLABWIN10 </b>and the <b>Azure portal &gt; powershell-vm-01 Virtual machine </b>page is displayed.</p>

<p id="cn-m6-546">Still on the <b>powershell-vm-01 </b>page, click the <b>Cloud Shell </b>icon.</p>

<p id="cn-m6-547"></p><figure><img class="cn-img" id="cn-image-m6-c-67" src="CloudNetworkingConcepts_files/image-m6-c-67.jpg" alt="Figure 3.19 Screenshot of PLABWIN10: The powershell-vm01 page is displayed with the Cloud Shell code-type styled icon highlighted."><figcaption>Figure
 3.19 Screenshot of PLABWIN10: The powershell-vm01 page is displayed 
with the Cloud Shell code-type styled icon highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-549"><b><i>Step 2</i></b></h4>

<p id="cn-m6-550">Once the <b>Azure Cloud Shell </b>has opened, type the following command to switch to the <b>Bash </b>prompt:</p>

<pre id="cn-m6-551"><code>bash

</code></pre>

<p id="cn-m6-552">Press <b>Enter</b>.</p>

<p id="cn-m6-553"></p><figure><img class="cn-img" id="cn-image-m6-c-68" src="CloudNetworkingConcepts_files/image-m6-c-68.jpg" alt="Figure 3.20 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed with the bash command executed."><figcaption>Figure 3.20 Screenshot of PLABWIN10: The Cloud Shell - PowerShell window is displayed with the bash command executed.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-555"><b><i>Note</i></b><i>: As we did in the previous exercise, you can also click the dropdown on the top-left-hand side of the pane and click </i><b><i>Bash</i></b><i>.</i></span>

<h4 id="cn-m6-556"><b><i>Step 3</i></b></h4>

<p id="cn-m6-557">You will see that our prompt has now switched to the green <b>Bash </b>prompt.</p>

<p id="cn-m6-558">In order to confirm connection to our new machine, we will need the IP address.</p>

<p id="cn-m6-559">This is be located in the <b>powershell-vm-01 </b>dashboard, under <b>Public IP Address</b>.</p>

<p id="cn-m6-560">Copy the <b>Public IP Address</b>.</p>

<p id="cn-m6-561">The Public IP Address may differ for you. In this case, it is <b>20.254.105.54</b>.</p>

<p id="cn-m6-563"></p><figure><img class="cn-img" id="cn-image-m6-c-69" src="CloudNetworkingConcepts_files/image-m6-c-69.jpg" alt="Figure 3.21 Screenshot of PLABWIN10: The powershell-vm01 page is displayed, showing the Public IP address details."><figcaption>Figure 3.21 Screenshot of PLABWIN10: The powershell-vm01 page is displayed, showing the Public IP address details.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-565"><b><i>Note</i></b><i>: Please note that the IP address is generated per virtual machine, and as such, will be different in your lab.</i></span>

<h4 id="cn-m6-566"><b><i>Step 4</i></b></h4>

<p id="cn-m6-567">Back in the Bash prompt, type the following command, replacing the <b>XXXX </b>with the <b>Public IP Address </b>you copied from the previous step.</p>

<pre id="cn-m6-568"><code>ssh Plabadmin@<b>XXXX</b>

</code></pre>

<p id="cn-m6-569">For the example, our command would be:</p>

<p id="cn-m6-570"><b>ssh Plabadmin@20.254.105.54</b></p>

<p id="cn-m6-571">Press <b>Enter</b>.</p>

<p id="cn-m6-572"></p><figure><img class="cn-img" id="cn-image-m6-c-70" src="CloudNetworkingConcepts_files/image-m6-c-70.jpg" alt="Figure 3.22 Screenshot of PLABWIN10: The Cloud Shell - PowerShell page with the Bash prompt window is displayed. The command to SSH into the virtual machine is typed into the Bash prompt."><figcaption>Figure
 3.22 Screenshot of PLABWIN10: The Cloud Shell - PowerShell page with 
the Bash prompt window is displayed. The command to SSH into the virtual
 machine is typed into the Bash prompt.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-574"><b><i>Note</i></b><i>: Bash is case sensitive; please ensure you type the Username with the correct capitalization.</i></span>

<h4 id="cn-m6-575"><b><i>Step 5</i></b></h4>

<p id="cn-m6-576">You may be asked if you wish to continue connecting. If this prompt appears, type the following:</p>

<pre id="cn-m6-577"><code>yes

</code></pre>

<p id="cn-m6-578">Press <b>Enter</b>.</p>

<p id="cn-m6-580">You will be prompted to provide this ' 'user's password that we specified earlier. Type the following:</p>

<span class="cn-password">Passw0rd1234</span>

<p id="cn-m6-582">Again, press <b>Enter</b>.</p>

<p id="cn-m6-583"></p><figure><img class="cn-img" id="cn-image-m6-c-71" src="CloudNetworkingConcepts_files/image-m6-c-71.jpg" alt="Figure 3.23 Screenshot of PLABWIN10: The Cloud Shell - PowerShell page with the Bash prompt window is displayed with the &amp;#39; &amp;#39;user&amp;#39;s password that was specified in an earlier step typed in but does not appear on the screen."><figcaption>Figure
 3.23 Screenshot of PLABWIN10: The Cloud Shell - PowerShell page with 
the Bash prompt window is displayed with the ' 'user's password that was
 specified in an earlier step typed in but does not appear on the 
screen.</figcaption></figure><p></p>

<h4 id="cn-m6-585"><b><i>Step 6</i></b></h4>

<p id="cn-m6-586">You will see that our prompt has now switched from <b>XXXX@Azure: </b>to <b>Plabamin@powershell-vm-01</b>:.</p>

<p id="cn-m6-587">This confirms that we can connect to our new device, and we can now perform any administrative actions as necessary in <b>Bash</b>.</p>

<p id="cn-m6-588"></p><figure><img class="cn-img" id="cn-image-m6-c-72" src="CloudNetworkingConcepts_files/image-m6-c-72.jpg" alt="Figure 3.24 Screenshot of PLABWIN10: The Cloud Shell - PowerShell with the Bash prompt window is displayed with the command prompt changed to show the Plabadmin user of the virtual machine."><figcaption>Figure
 3.24 Screenshot of PLABWIN10: The Cloud Shell - PowerShell with the 
Bash prompt window is displayed with the command prompt changed to show 
the Plabadmin user of the virtual machine.</figcaption></figure><p></p>

<span class="atom-code hidden">87fab35c-2831-4202-b4f1-46339fa6c815</span>

<h4 id="cn-m6-592"><b><i>Step 7</i></b></h4>

<p id="cn-m6-593">Close the <b>Cloud Shell </b>prompt by clicking the <b>Close </b>icon.</p>

<p id="cn-m6-595"></p><figure><img class="cn-img" id="cn-image-m6-c-73" src="CloudNetworkingConcepts_files/image-m6-c-73.jpg" alt="Figure 3.25 Screenshot of PLABWIN10: The Cloud Shell window is displayed with the X icon highlighted."><figcaption>Figure 3.25 Screenshot of PLABWIN10: The Cloud Shell window is displayed with the X icon highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-597"><b><i>Step 8</i></b></h4>

<p id="cn-m6-598">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-599"></p><figure><img class="cn-img" id="cn-image-m6-c-74" src="CloudNetworkingConcepts_files/image-m6-c-74.jpg" alt="Figure 3.26 Screenshot of PLABWIN10: The powershell-vm01 page is displayed with Home weblink highlighted."><figcaption>Figure 3.26 Screenshot of PLABWIN10: The powershell-vm01 page is displayed with Home weblink highlighted.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-601">Keep <b>PLABWIN10 </b>in this current state for the next exercise.</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-602"><b>Exercise 4 - Hardening Cloud-based Resources</b></h2>

<p id="cn-m6-603">Even as more resources are migrated to secure data 
centers in the cloud, other vectors of attack still remain. Following 
security best practices helps minimize vulnerabilities.</p>

<p id="cn-m6-604">Process of limiting potential weaknesses that make systems vulnerable to cyberattacks</p>

<ul id="cn-m6-605">

<li id="cn-m6-605">Disabling unnecessary ports and services</li>

<li id="cn-m6-606">Disabling weak protocols and ciphers</li>

<li id="cn-m6-607">Firmware upgrades</li>

<li id="cn-m6-608">Control ingress and egress traffic</li>

<li id="cn-m6-609">Allow list (previously known as whitelisting) or blocklist (previously known as blacklisting)</li>

<li id="cn-m6-610">Proxy servers</li>

<li id="cn-m6-611">Distributed denial of service (DDoS) protection</li>

</ul>

<p id="cn-m6-612">The Cloud (e.g., Azure) provides basic DDoS 
protection. This includes actively monitoring traffic and always-on 
detection. Also, Automatic attack mitigation. No additional 
configuration is needed, it protects all services.</p>

<p id="cn-m6-613">There may be additional DDoS Protection that has 
enhanced DDoS mitigation that has other advantages, including logging, 
alerting and telemetry.</p>

<p id="cn-m6-615">In this exercise, you will find out about the basics of hardening and configuring in cloud-based resources.</p>

<h2 class="cn-learningobjectives"><b>Learning Outcomes</b></h2>

<p id="cn-m6-618">After completing this exercise, you should be able to:</p>

<ul id="cn-m6-619">

<li id="cn-m6-619">Applying Application Security Groups</li>

<li id="cn-m6-620">Configuring Application Gateways</li>

<li id="cn-m6-621">Disabling unnecessary ports.</li>

</ul>

<h2 class="cn-devices"><b>Your Devices</b></h2>

<p id="cn-m6-623">You will be using the following devices in this lab. Please power these on now.</p>

<span class="atom-code hidden">af4fa57a-53be-4f51-bf97-9ac3495df239</span>

<ul id="cn-m6-627">

<li id="cn-m6-627"><b>PLABWIN10 </b>- Standalone Azure Workstation (Windows 10)</li>

</ul>

<h3 id="cn-m6-629"><b>Task 1 - Applying Application Security Groups</b></h3>

<p id="cn-m6-630">Managing network traffic helps create levels of 
segmentation between resources, and add layers of security to the 
overall network.</p>

<p id="cn-m6-631">The utilization of Application Security Groups grants 
the ability to logically separate Virtual machines that share the same 
network resources, like subnets.</p>

<p id="cn-m6-632">In this task, you will configure application security groups and apply them to network security groups.</p>

<h4 id="cn-m6-633"><b><i>Step 1</i></b></h4>

<p id="cn-m6-634">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>window is displayed.</p>

<p id="cn-m6-635">In the <b>Microsoft Azure Portal</b>, click into the <b>Search resources, services and docs </b>textbox and type:</p>

<p id="cn-m6-636">application security group</p>

<p id="cn-m6-637">Under the <b>Services </b>results, select <b>Application security groups</b>.</p>

<p id="cn-m6-638"></p><figure><img class="cn-img" id="cn-image-m6-c-75" src="CloudNetworkingConcepts_files/image-m6-c-75.jpg" alt="Figure 4.1 Screenshot of PLABWIN10: The Azure home page is displayed with the search term application security group typed into the search bar, and Application security groups highlighted in the results list."><figcaption>Figure
 4.1 Screenshot of PLABWIN10: The Azure home page is displayed with the 
search term application security group typed into the search bar, and 
Application security groups highlighted in the results list.</figcaption></figure><p></p>

<h4 id="cn-m6-640"><b><i>Step 2</i></b></h4>

<p id="cn-m6-641">From the <b>Application security groups </b>page, click <b>Create</b>.</p>

<p id="cn-m6-642"></p><figure><img class="cn-img" id="cn-image-m6-c-76" src="CloudNetworkingConcepts_files/image-m6-c-76.jpg" alt="Figure 4.2 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted."><figcaption>Figure 4.2 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-644"><b><i>Step 3</i></b></h4>

<p id="cn-m6-645">Under <b>Subscription</b>, in the <b>Resource Group </b>dropdown, select the pre-populated <b>Resource Group</b>.</p>

<p id="cn-m6-646"></p><figure><img class="cn-img" id="cn-image-m6-c-77" src="CloudNetworkingConcepts_files/image-m6-c-77.jpg" alt="Figure 4.3 Screenshot of PLABWIN10: The Create an application security group page is displayed with the pre-populated Resource group selected from the Resource group dropdown."><figcaption>Figure
 4.3 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the pre-populated Resource group selected from 
the Resource group dropdown.</figcaption></figure><p></p>

<h4 id="cn-m6-648"><b><i>Step 4</i></b></h4>

<p id="cn-m6-649">From the <b>Instance Details </b>section, in the <b>Name </b>textbox, type the following:</p>

<pre id="cn-m6-650"><code>ASP-powershell-vms

</code></pre>

<p id="cn-m6-651">Ensure <b>Region </b>is set to <b>UK South</b>.</p>

<p id="cn-m6-652">Click <b>Review + Create</b>.</p>

<p id="cn-m6-653"></p><figure><img class="cn-img" id="cn-image-m6-c-78" src="CloudNetworkingConcepts_files/image-m6-c-78.jpg" alt="Figure 4.4 Screenshot of PLABWIN10: The Create an application security group is displayed with the Instance details fields populated and the Review + create button highlighted."><figcaption>Figure
 4.4 Screenshot of PLABWIN10: The Create an application security group 
is displayed with the Instance details fields populated and the Review +
 create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-655"><b><i>Step 5</i></b></h4>

<p id="cn-m6-656">The <b>Validation </b>page will open.</p>

<p id="cn-m6-657">Once it has been validated, click <b>Create</b>.</p>

<p id="cn-m6-658"></p><figure><img class="cn-img" id="cn-image-m6-c-79" src="CloudNetworkingConcepts_files/image-m6-c-79.jpg" alt="Figure 4.5 Screenshot of PLABWIN10: The Create an application security group page is displayed with the Validation passed message shown and the Create button highlighted."><figcaption>Figure
 4.5 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the Validation passed message shown and the 
Create button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-660"><b><i>Note</i></b><i>: If you receive an error stating that </i><b><i>there were validation errors</i></b><i>, please ensure you have entered all fields as noted above.</i></span>

<h4 id="cn-m6-661"><b><i>Step 6</i></b></h4>

<p id="cn-m6-662">The <b>Microsoft.Application.SecurityGroup | Overview </b>page is displayed, showing the <b>Deployment is in progress </b>message.</p>

<p id="cn-m6-663">Azure will open a notification in the top-right-hand side of the screen to state that <b>your deployment is complete</b>.</p>

<p id="cn-m6-664">Once the resource has been deployed, click <b>Go to resource</b>.</p>

<p id="cn-m6-667"></p><figure><img class="cn-img" id="cn-image-m6-c-80" src="CloudNetworkingConcepts_files/image-m6-c-80.jpg" alt="Figure 4.6 Screenshot of PLABWIN10: The Microsoft.ApplicationSecurityGroup | Overview page is displayed, showing the message Your deployment is complete. The Go to resource button is highlighted."><figcaption>Figure
 4.6 Screenshot of PLABWIN10: The Microsoft.ApplicationSecurityGroup | 
Overview page is displayed, showing the message Your deployment is 
complete. The Go to resource button is highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-669"><b><i>Step 7</i></b></h4>

<p id="cn-m6-670">Click into the <b>Search resources, services and docs </b>textbox and type:</p>

<p id="cn-m6-671">application security group</p>

<p id="cn-m6-672">Under the <b>Services </b>results, select <b>Application security groups</b>.</p>

<p id="cn-m6-673"></p><figure><img class="cn-img" id="cn-image-m6-c-81" src="CloudNetworkingConcepts_files/image-m6-c-81.jpg" alt="Figure 4.7 Screenshot of PLABWIN10: The ASP-powershell-vms page is displayed with the Application security groups typed in the search textbox."><figcaption>Figure
 4.7 Screenshot of PLABWIN10: The ASP-powershell-vms page is displayed 
with the Application security groups typed in the search textbox.</figcaption></figure><p></p>

<h4 id="cn-m6-675"><b><i>Step 8</i></b></h4>

<p id="cn-m6-676">From the <b>Application security groups </b>page, click <b>Create</b>.</p>

<p id="cn-m6-677"></p><figure><img class="cn-img" id="cn-image-m6-c-82" src="CloudNetworkingConcepts_files/image-m6-c-82.jpg" alt="Figure 4.8 Screenshot of PLABWIN10: The Application security groups page is displayed with Create button highlighted."><figcaption>Figure 4.8 Screenshot of PLABWIN10: The Application security groups page is displayed with Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-679"><b><i>Step 9</i></b></h4>

<p id="cn-m6-680">Under <b>Subscription</b>, in the <b>Resource Group </b>dropdown, select the pre-populated <b>Resource Group</b>.</p>

<p id="cn-m6-681">From the <b>Instance Details </b>section, in the <b>Name </b>textbox, type the following:</p>

<pre id="cn-m6-682"><code>ASP-WebServers

</code></pre>

<p id="cn-m6-683">Ensure <b>Region </b>is set to <b>UK South</b>.</p>

<p id="cn-m6-684">Click <b>Review + create</b>.</p>

<p id="cn-m6-685"></p><figure><img class="cn-img" id="cn-image-m6-c-83" src="CloudNetworkingConcepts_files/image-m6-c-83.jpg" alt="Figure 4.9 Screenshot of PLABWIN10: The Application security groups page is displayed with the Instance details fields populated and the Review + create button highlighted."><figcaption>Figure
 4.9 Screenshot of PLABWIN10: The Application security groups page is 
displayed with the Instance details fields populated and the Review + 
create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-687"><b><i>Step 10</i></b></h4>

<p id="cn-m6-688">The <b>Validation </b>page will open. Once it has been validated, click <b>Create</b>.</p>

<p id="cn-m6-689"></p><figure><img class="cn-img" id="cn-image-m6-c-84" src="CloudNetworkingConcepts_files/image-m6-c-84.jpg" alt="Figure 4.10 Screenshot of PLABWIN10: The Application security groups page is displayed with the Validation passed message shown and the Create button highlighted."><figcaption>Figure
 4.10 Screenshot of PLABWIN10: The Application security groups page is 
displayed with the Validation passed message shown and the Create button
 highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-691"><b><i>Step 11</i></b></h4>

<p id="cn-m6-692">Click into the <b>Search resources, services and docs </b>textbox and type:</p>

<pre id="cn-m6-693"><code>application security group

</code></pre>

<p id="cn-m6-694">Under the <b>Services </b>results, select <b>Application security groups</b>.</p>

<p id="cn-m6-695"></p><figure><img class="cn-img" id="cn-image-m6-c-85" src="CloudNetworkingConcepts_files/image-m6-c-85.jpg" alt="Figure 4.11 Screenshot of PLABWIN10: The Azure home page is displayed with the search term application security group typed into the search bar and Application security groups highlighted in the results list."><figcaption>Figure
 4.11 Screenshot of PLABWIN10: The Azure home page is displayed with the
 search term application security group typed into the search bar and 
Application security groups highlighted in the results list.</figcaption></figure><p></p>

<h4 id="cn-m6-697"><b><i>Step 12</i></b></h4>

<p id="cn-m6-698">From the <b>Application security groups </b>page, click <b>Create</b>.</p>

<p id="cn-m6-699"></p><figure><img class="cn-img" id="cn-image-m6-c-86" src="CloudNetworkingConcepts_files/image-m6-c-86.jpg" alt="Figure 4.12 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted."><figcaption>Figure 4.12 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-701"><b><i>Step 13</i></b></h4>

<p id="cn-m6-702">Under <b>Subscription</b>, in the <b>Resource Group </b>dropdown, select the pre-populated <b>Resource Group</b>.</p>

<p id="cn-m6-703"></p><figure><img class="cn-img" id="cn-image-m6-c-87" src="CloudNetworkingConcepts_files/image-m6-c-87.jpg" alt="Figure 4.13 Screenshot of PLABWIN10: The Create an application security group page is displayed with the pre-populated Resource group selected from the Resource group dropdown."><figcaption>Figure
 4.13 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the pre-populated Resource group selected from 
the Resource group dropdown.</figcaption></figure><p></p>

<h4 id="cn-m6-705"><b><i>Step 14</i></b></h4>

<p id="cn-m6-706">From the <b>Instance Details </b>section, in the <b>Name </b>textbox, type the following:</p>

<pre id="cn-m6-707"><code>AppServers

</code></pre>

<p id="cn-m6-708">Ensure <b>Region </b>is set to <b>UK South</b>.</p>

<p id="cn-m6-709">Click <b>Review + Create</b>.</p>

<p id="cn-m6-710"></p><figure><img class="cn-img" id="cn-image-m6-c-88" src="CloudNetworkingConcepts_files/image-m6-c-88.jpg" alt="Figure 4.14 Screenshot of PLABWIN10: The Create an application security group is displayed with the Instance details fields populated and the Review + create button highlighted."><figcaption>Figure
 4.14 Screenshot of PLABWIN10: The Create an application security group 
is displayed with the Instance details fields populated and the Review +
 create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-712"><b><i>Step 15</i></b></h4>

<p id="cn-m6-713">The <b>Validation </b>page will open. Once it has been validated, click <b>Create</b>.</p>

<p id="cn-m6-714"></p><figure><img class="cn-img" id="cn-image-m6-c-89" src="CloudNetworkingConcepts_files/image-m6-c-89.jpg" alt="Figure 4.15 Screenshot of PLABWIN10: The Create an application security group page is displayed with the Validation passed message shown and the Create button highlighted."><figcaption>Figure
 4.15 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the Validation passed message shown and the 
Create button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-716"><b><i>Note</i></b><i>: If you receive an error stating that </i><b><i>there were validation errors</i></b><i>, please ensure you have entered all fields as noted above.</i></span>

<h4 id="cn-m6-717"><b><i>Step 16</i></b></h4>

<p id="cn-m6-718">Azure will open a notification in the top-right-hand side of the screen to state that <b>your deployment is complete</b>.</p>

<p id="cn-m6-719">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-720"></p><figure><img class="cn-img" id="cn-image-m6-c-90" src="CloudNetworkingConcepts_files/image-m6-c-90.jpg" alt="Figure 4.16 Screenshot of PLABWIN10: The Microsoft.ApplicationSecurityGroup | Overview page is displayed with the message your deployment is complete shown and the Home weblink highlighted."><figcaption>Figure
 4.16 Screenshot of PLABWIN10: The Microsoft.ApplicationSecurityGroup | 
Overview page is displayed with the message your deployment is complete 
shown and the Home weblink highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-722"><b><i>Step 17</i></b></h4>

<p id="cn-m6-723">Click <b>Application security groups</b>.</p>

<p id="cn-m6-724"></p><figure><img class="cn-img" id="cn-image-m6-c-91" src="CloudNetworkingConcepts_files/image-m6-c-91.jpg" alt="Figure 4.17 Screenshot of PLABWIN10: The Microsoft Azure portal home page is displayed with the Application security groups button highlighted."><figcaption>Figure
 4.17 Screenshot of PLABWIN10: The Microsoft Azure portal home page is 
displayed with the Application security groups button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-726"><b><i>Step 18</i></b></h4>

<p id="cn-m6-727">From the <b>Application security groups </b>page, click <b>Create</b>.</p>

<p id="cn-m6-728"></p><figure><img class="cn-img" id="cn-image-m6-c-92" src="CloudNetworkingConcepts_files/image-m6-c-92.jpg" alt="Figure 4.18 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted."><figcaption>Figure 4.18 Screenshot of PLABWIN10: The Application security groups page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-730"><b><i>Step 19</i></b></h4>

<p id="cn-m6-731">Under <b>Subscription</b>, in the <b>Resource Group </b>dropdown, select the pre-populated <b>Resource Group</b>.</p>

<p id="cn-m6-732"></p><figure><img class="cn-img" id="cn-image-m6-c-93" src="CloudNetworkingConcepts_files/image-m6-c-93.jpg" alt="Figure 4.19 Screenshot of PLABWIN10: The Create an application security group page is displayed with the pre-populated Resource group selected from the Resource group dropdown."><figcaption>Figure
 4.19 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the pre-populated Resource group selected from 
the Resource group dropdown.</figcaption></figure><p></p>

<h4 id="cn-m6-734"><b><i>Step 20</i></b></h4>

<p id="cn-m6-735">From the <b>Instance Details </b>section, in the <b>Name </b>textbox, type the following:</p>

<pre id="cn-m6-736"><code>DBservers

</code></pre>

<p id="cn-m6-737">Ensure <b>Region </b>is set to <b>UK South</b>.</p>

<p id="cn-m6-738">Click <b>Review + Create</b>.</p>

<p id="cn-m6-739"></p><figure><img class="cn-img" id="cn-image-m6-c-94" src="CloudNetworkingConcepts_files/image-m6-c-94.jpg" alt="Figure 4.20 Screenshot of PLABWIN10: The Create an application security group is displayed with the Instance details fields populated and the Review + create button highlighted."><figcaption>Figure
 4.20 Screenshot of PLABWIN10: The Create an application security group 
is displayed with the Instance details fields populated and the Review +
 create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-741"><b><i>Step 21</i></b></h4>

<p id="cn-m6-742">The <b>Validation </b>page will open. Once it has been validated, click <b>Create</b>.</p>

<p id="cn-m6-743"></p><figure><img class="cn-img" id="cn-image-m6-c-95" src="CloudNetworkingConcepts_files/image-m6-c-95.jpg" alt="Figure 4.21 Screenshot of PLABWIN10: The Create an application security group page is displayed with the Validation passed message shown and the Create button highlighted."><figcaption>Figure
 4.21 Screenshot of PLABWIN10: The Create an application security group 
page is displayed with the Validation passed message shown and the 
Create button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-745"><b><i>Note</i></b><i>: If you receive an error stating that </i><b><i>there were validation errors</i></b><i>, please ensure you have entered all fields as noted above.</i></span>

<h4 id="cn-m6-746"><b><i>Step 22</i></b></h4>

<p id="cn-m6-747">Azure will open a notification in the top-right-hand side of the screen to state that <b>your deployment is complete</b>.</p>

<p id="cn-m6-748">From the <b>Microsoft.Application.SecurityGroup </b>page, click into the <b>Search resources, services and docs </b>textbox and type:</p>

<pre id="cn-m6-749"><code>virtual machines

</code></pre>

<p id="cn-m6-750">Under the <b>Services </b>results, select <b>Virtual machines</b>.</p>

<p id="cn-m6-751"></p><figure><img class="cn-img" id="cn-image-m6-c-96" src="CloudNetworkingConcepts_files/image-m6-c-96.jpg" alt="Figure 4.22 Screenshot of PLABWIN10: The Microsoft.Application.SecurityGroup page is displayed with the search term virtual machines typed into the search bar and Virtual machines highlighted in the results list."><figcaption>Figure
 4.22 Screenshot of PLABWIN10: The Microsoft.Application.SecurityGroup 
page is displayed with the search term virtual machines typed into the 
search bar and Virtual machines highlighted in the results list.</figcaption></figure><p></p>

<h4 id="cn-m6-753"><b><i>Step 23</i></b></h4>

<p id="cn-m6-754">From the <b>Virtual Machines </b>page, select <b>powershell-vm-01 </b>from the listed virtual machines.</p>

<p id="cn-m6-755"></p><figure><img class="cn-img" id="cn-image-m6-c-97" src="CloudNetworkingConcepts_files/image-m6-c-97.jpg" alt="Figure 4.23 Screenshot of PLABWIN10: The Virtual machines page is displayed with powershell-vm-01 highlighted."><figcaption>Figure 4.23 Screenshot of PLABWIN10: The Virtual machines page is displayed with powershell-vm-01 highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-757"><b><i>Step 24</i></b></h4>

<p id="cn-m6-758">The <b>Overview </b>page for <b>powershell-vm-01 </b>will open.</p>

<p id="cn-m6-759">On the left-hand pane of the browser window, under <b>Settings</b>, select <b>Networking</b>.</p>

<p id="cn-m6-760">From the tab options displayed under the <b>Networking </b>page, click the <b>Application security groups </b>tab.</p>

<p id="cn-m6-761"></p><figure><img class="cn-img" id="cn-image-m6-c-98" src="CloudNetworkingConcepts_files/image-m6-c-98.jpg" alt="Figure 4.24 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the Application security groups tab highlighted."><figcaption>Figure
 4.24 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is
 displayed with the Application security groups tab highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-763"><b><i>Step 25</i></b></h4>

<p id="cn-m6-764">Under the tab <b>Application security groups</b>, select <b>Configure the application security groups</b>.</p>

<p id="cn-m6-765"></p><figure><img class="cn-img" id="cn-image-m6-c-99" src="CloudNetworkingConcepts_files/image-m6-c-99.jpg" alt="Figure 4.25 Screenshot of PLABWIN10: The powershell-vm-01 | Networking &amp;gt; Application security groups tab is displayed with the Configure the application security groups button highlighted."><figcaption>Figure
 4.25 Screenshot of PLABWIN10: The powershell-vm-01 | Networking &gt; 
Application security groups tab is displayed with the Configure the 
application security groups button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-767"><b><i>Step 26</i></b></h4>

<p id="cn-m6-768">In the <b>Configure the application security groups </b>fly-out window, under the <b>Application security groups </b>dropdown, tick the <b>ASP-powershell-vms </b>checkbox.</p>

<p id="cn-m6-769">Click <b>Save</b>.</p>

<p id="cn-m6-770"></p><figure><img class="cn-img" id="cn-image-m6-c-100" src="CloudNetworkingConcepts_files/image-m6-c-100.jpg" alt="Figure 4.26 Screenshot of PLABWIN10: The Configure the application security groups fly-out window is displayed with the ASP-powershell-vms checkbox ticked."><figcaption>Figure
 4.26 Screenshot of PLABWIN10: The Configure the application security 
groups fly-out window is displayed with the ASP-powershell-vms checkbox 
ticked.</figcaption></figure><p></p>

<h4 id="cn-m6-772"><b><i>Step 27</i></b></h4>

<p id="cn-m6-773">Click the <b>Inbound port rules </b>tab.</p>

<p id="cn-m6-774"></p><figure><img class="cn-img" id="cn-image-m6-c-101" src="CloudNetworkingConcepts_files/image-m6-c-101.jpg" alt="Figure 4.27 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the click the Inbound port rules tab highlighted."><figcaption>Figure
 4.27 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is
 displayed with the click the Inbound port rules tab highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-776"><b><i>Step 28</i></b></h4>

<p id="cn-m6-777">Click <b>Add inbound port rule</b>.</p>

<p id="cn-m6-778"></p><figure><img class="cn-img" id="cn-image-m6-c-102" src="CloudNetworkingConcepts_files/image-m6-c-102.jpg" alt="Figure 4.28 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the click the Add inbound port rule button highlighted."><figcaption>Figure
 4.28 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is
 displayed with the click the Add inbound port rule button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-780"><b><i>Step 29</i></b></h4>

<p id="cn-m6-781">From the <b>Add inbound security rule </b>fly-out window, click the <b>Source </b>dropdown and select <b>Application security group</b>.</p>

<p id="cn-m6-782"></p><figure><img class="cn-img" id="cn-image-m6-c-103" src="CloudNetworkingConcepts_files/image-m6-c-103.jpg" alt="Figure 4.29 Screenshot of PLABWIN10: The Add inbound security rule fly-out window is displayed with the source dropdown expanded and the Application security group highlighted."><figcaption>Figure
 4.29 Screenshot of PLABWIN10: The Add inbound security rule fly-out 
window is displayed with the source dropdown expanded and the 
Application security group highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-784"><b><i>Note</i></b><i>: This associates traffic coming from resources configured with application security groups.</i></span>

<h4 id="cn-m6-785"><b><i>Step 30</i></b></h4>

<p id="cn-m6-786">Next, you need to associate traffic coming from resources configured with application security groups.</p>

<p id="cn-m6-787">From the <b>Source application security groups </b>dropdown, select <b>ASP-WebServers</b>.</p>

<p id="cn-m6-788">In the <b>Source port ranges</b>, ensure <b>* </b>is typed in.</p>

<p id="cn-m6-789">From the <b>Destination </b>dropdown, select <b>Application security group</b>.</p>

<p id="cn-m6-790">From the <b>Destination application security groups </b>dropdown, select <b>ASP-powershell-vms</b>.</p>

<p id="cn-m6-791"></p><figure><img class="cn-img" id="cn-image-m6-c-104" src="CloudNetworkingConcepts_files/image-m6-c-104.jpg" alt="Figure 4.30 Screenshot of PLABWIN10: The Add inbound security rule fly-out window is displayed with the fields populated."><figcaption>Figure 4.30 Screenshot of PLABWIN10: The Add inbound security rule fly-out window is displayed with the fields populated.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-793"><b><i>Note</i></b><i>: The 
asterisk is a wildcard that notates any ports, effectively applying the 
rule to any and all traffic that comes from resources (VMS) configured 
with the ASP-WebServers application security group.</i></span>

<h4 id="cn-m6-794"><b><i>Step 31</i></b></h4>

<p id="cn-m6-795">For this example, leave the <b>Service </b>as the default <b>Custom</b>.</p>

<p id="cn-m6-796">In the <b>Destination ports ranges </b>textbox, type over the existing port range with:</p>

<pre id="cn-m6-797"><code>*

</code></pre>

<p id="cn-m6-798">Under <b>Protocol, </b>ensure <b>Any </b>is selected.</p>

<p id="cn-m6-799"></p><figure><img class="cn-img" id="cn-image-m6-c-105" src="CloudNetworkingConcepts_files/image-m6-c-105.jpg" alt="Figure 4.31 Screenshot of PLABWIN10: The Add inbound security rules fly-out window is displayed with an asterisk typed into the Destination ports ranges textbox."><figcaption>Figure
 4.31 Screenshot of PLABWIN10: The Add inbound security rules fly-out 
window is displayed with an asterisk typed into the Destination ports 
ranges textbox.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-801"><b><i>Note</i></b><i>: The </i><b><i>Service </i></b><i>dropdown
 will allow for faster creation of commonly used protocols, like http, 
ssh, RDP, MySQL. But is not necessary to configuring specific ports or 
when you are using a wide blanket approach like the * wildcard.</i></span>

<h4 id="cn-m6-802"><b><i>Step 32</i></b></h4>

<p id="cn-m6-803">From <b>Action</b>, select <b>Deny</b>.</p>

<p id="cn-m6-804">In the <b>Priority </b>textbox, type:</p>

<pre id="cn-m6-805"><code>1010

</code></pre>

<p id="cn-m6-807">In the <b>Name </b>textbox, type:</p>

<pre id="cn-m6-808"><code>Deny_Ports

</code></pre>

<span class="cn-quote" id="cn-m6-809"><b><i>Note</i></b><i>: In a 
real-life task, it is normally best practice to include more information
 about the reasoning for building the rule in the Description field. 
Though it can normally be determined what the rule does from reading the
 configurations selected, there come instances when several sources or 
destinations might be included in a single rule making it difficult to 
understand from just reading the configuration.</i></span>

<p id="cn-m6-810">Click <b>Add</b>, and the rule will populate in the inbound port rules after a few seconds.</p>

<p id="cn-m6-811"></p><figure><img class="cn-img" id="cn-image-m6-c-106" src="CloudNetworkingConcepts_files/image-m6-c-106.jpg" alt=" Figure 4.32 Screenshot of PLABWIN10: The Add inbound security rules fly-out window is displayed with further setting details typed in and the Add button highlighted."><figcaption>
 Figure 4.32 Screenshot of PLABWIN10: The Add inbound security rules 
fly-out window is displayed with further setting details typed in and 
the Add button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-813"><b><i>Step 33</i></b></h4>

<p id="cn-m6-814">The new rule Deny_Ports will populate in the rule list based on its associated priority level, in this case, 1010.</p>

<p id="cn-m6-816"></p><figure><img class="cn-img" id="cn-image-m6-c-107" src="CloudNetworkingConcepts_files/image-m6-c-107.jpg" alt="Figure 4.33 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the new rule Deny_Ports shown in the list."><figcaption>Figure
 4.33 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is
 displayed with the new rule Deny_Ports shown in the list.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-818">Keep <b>PLABWIN10 </b>in this current state for the next task.</span>

<h3 id="cn-m6-820"><b>Task 2 - Configure Application Gateway</b></h3>

<p id="cn-m6-821">Application gateway supports SSL/TLS termination at 
the gateway, after which traffic typically flows unencrypted to the 
backend servers.</p>

<p id="cn-m6-822">This feature allows web servers to be unburdened from 
costly encryption and decryption overhead. But sometimes, unencrypted 
communication to the servers isn't an acceptable option.</p>

<p id="cn-m6-823">This can be because of security requirements, compliance requirements, or the application may only accept a secure connection.</p>

<p id="cn-m6-824">For these applications, application gateway supports end-to-end SSL/TLS encryption.</p>

<p id="cn-m6-825">Traditionally load balancers were used to route 
traffic from external networks into an ' 'enterprise's infrastructure; 
Azure application Gateways is a specialized web traffic load balancer 
that enables the management of traffic to web applications.</p>

<p id="cn-m6-826">Application gateways route traffic based on additional
 attributes in an HTTP request. This type of routing is known as 
application layer (OSI layer 7) load balancing.</p>

<p id="cn-m6-828">In this task, you will provision an application gateway and configure its network connections.</p>

<h4 id="cn-m6-829"><b><i>Step 1</i></b></h4>

<p id="cn-m6-830">Ensure you are connected to <b>PLABWIN10</b>, and the <b>Azure portal </b>window is displayed.</p>

<p id="cn-m6-831">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-832"></p><figure><img class="cn-img" id="cn-image-m6-c-108" src="CloudNetworkingConcepts_files/image-m6-c-108.jpg" alt=" Figure 4.34 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the Home weblink highlighted."><figcaption> Figure 4.34 Screenshot of PLABWIN10: The powershell-vm-01 | Networking page is displayed with the Home weblink highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-834"><b><i>Step 2</i></b></h4>

<p id="cn-m6-835">Click <b>Create a Resource</b>.</p>

<p id="cn-m6-836"></p><figure><img class="cn-img" id="cn-image-m6-c-109" src="CloudNetworkingConcepts_files/image-m6-c-109.jpg" alt="Figure 4.35 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed, and the Create a resource button highlighted."><figcaption>Figure
 4.35 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed, and the Create a resource button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-838"><b><i>Step 3</i></b></h4>

<p id="cn-m6-839">On the <b>Create a resource </b>page, type the following into the search textbox:</p>

<pre id="cn-m6-840"><code>application gateway

</code></pre>

<p id="cn-m6-841">From the results listed, click <b>Application Gateway</b>.</p>

<p id="cn-m6-843"></p><figure><img class="cn-img" id="cn-image-m6-c-110" src="CloudNetworkingConcepts_files/image-m6-c-110.jpg" alt="Figure 4.36 Screenshot of PLABWIN10: The Create a resource page is displayed with the search term of application gateway typed into the search bar, and application gateway is highlighted in the results list."><figcaption>Figure
 4.36 Screenshot of PLABWIN10: The Create a resource page is displayed 
with the search term of application gateway typed into the search bar, 
and application gateway is highlighted in the results list.</figcaption></figure><p></p>

<h4 id="cn-m6-845"><b><i>Step 4</i></b></h4>

<p id="cn-m6-846">On the <b>Application Gateway </b>page, click <b>Create</b>.</p>

<p id="cn-m6-848"></p><figure><img class="cn-img" id="cn-image-m6-c-111" src="CloudNetworkingConcepts_files/image-m6-c-111.jpg" alt="Figure 4.37 Screenshot of PLABWIN10: The Application Gateway page is displayed with the Create button highlighted."><figcaption>Figure 4.37 Screenshot of PLABWIN10: The Application Gateway page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-850"><b><i>Step 5</i></b></h4>

<p id="cn-m6-851">On the <b>Create application gateway - Basics </b>tab, from the <b>Resource group </b>dropdown, select the pre-populated resource group.</p>

<p id="cn-m6-852">Under the <b>Instance details</b>, in the <b>application gateway </b>name textbox, type:</p>

<pre id="cn-m6-853"><code>PLAB-AppGW

</code></pre>

<p id="cn-m6-854">Under <b>Region</b>, ensure it is set to <b>UK South</b>.</p>

<p id="cn-m6-855">From the <b>Tier </b>dropdown, select <b>WAF V2</b>.</p>

<p id="cn-m6-856">For the <b>Enable autoscaling </b>option, select <b>Yes</b>.</p>

<p id="cn-m6-858"></p><figure><img class="cn-img" id="cn-image-m6-c-112" src="CloudNetworkingConcepts_files/image-m6-c-112.jpg" alt="Figure 4.38 Screenshot of PLABWIN10: The Application Gateway page is displayed with Stg_ricky selected for resource group, Plab-APPGW typed in the Application gateway name, UK South selected for region, Standard_V2 selected for tier and yes bubbled for enable autoscaling."><figcaption>Figure
 4.38 Screenshot of PLABWIN10: The Application Gateway page is displayed
 with Stg_ricky selected for resource group, Plab-APPGW typed in the 
Application gateway name, UK South selected for region, Standard_V2 
selected for tier and yes bubbled for enable autoscaling.</figcaption></figure><p></p>

<h4 id="cn-m6-860"><b><i>Step 6</i></b></h4>

<p id="cn-m6-861">In the <b>Minimum instance count </b>textbox, type over the existing value with:</p>

<pre id="cn-m6-862"><code>1

</code></pre>

<p id="cn-m6-863">Leave the <b>Maximum instance count </b>with its default value.</p>

<p id="cn-m6-864">From the <b>WAF Policy </b>option, click the <b>Create new </b>weblink.</p>

<p id="cn-m6-866"></p><figure><img class="cn-img" id="cn-image-m6-c-113" src="CloudNetworkingConcepts_files/image-m6-c-113.jpg" alt="Figure 4.39 Screenshot of PLABWIN10: The Application Gateway page is displayed with the Create new weblink highlighted for WAF Policy."><figcaption>Figure
 4.39 Screenshot of PLABWIN10: The Application Gateway page is displayed
 with the Create new weblink highlighted for WAF Policy.</figcaption></figure><p></p>

<h4 id="cn-m6-868"><b><i>Step 7</i></b></h4>

<p id="cn-m6-869">In the <b>Create Web Application Firewall Policy </b>textbox, type:</p>

<pre id="cn-m6-870"><code>PlabWebAppFP

</code></pre>

<p id="cn-m6-871">Tick the <b>Add Bot Protection </b>checkbox.</p>

<p id="cn-m6-872">Then, click <b>OK</b>.</p>

<p id="cn-m6-873"></p><figure><img class="cn-img" id="cn-image-m6-c-114" src="CloudNetworkingConcepts_files/image-m6-c-114.jpg" alt="Figure 4.40 Screenshot of PLABWIN10: The Create Web Application Firewall Policy page is displayed with PlabWebAppFP typed in the Name textbox, the Add Bot Protection checkbox ticked, and the OK button highlighted."><figcaption>Figure
 4.40 Screenshot of PLABWIN10: The Create Web Application Firewall 
Policy page is displayed with PlabWebAppFP typed in the Name textbox, 
the Add Bot Protection checkbox ticked, and the OK button highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-876"><b><i>Note</i></b><i>: You can 
enable a managed bot protection rule set to take custom actions on 
requests from known bot categories. There are three bot categories 
supported: Bad, Good, and Unknown. Bot signatures are managed and 
dynamically updated by the WAF platform.</i></span>

<h4 id="cn-m6-877"><b><i>Step 8</i></b></h4>

<p id="cn-m6-878">From <b>Virtual network</b>, click the <b>Create new </b>weblink.</p>

<p id="cn-m6-879"></p><figure><img class="cn-img" id="cn-image-m6-c-115" src="CloudNetworkingConcepts_files/image-m6-c-115.jpg" alt="Figure 4.41 Screenshot of PLABWIN10: The Create application gateway page is displayed with the Create new weblink highlighted for Virtual network."><figcaption>Figure
 4.41 Screenshot of PLABWIN10: The Create application gateway page is 
displayed with the Create new weblink highlighted for Virtual network.</figcaption></figure><p></p>

<h4 id="cn-m6-881"><b><i>Step 9</i></b></h4>

<p id="cn-m6-882">From the <b>Create virtual network </b>page, in the <b>Name </b>textbox, type:</p>

<pre id="cn-m6-883"><code>PlabApp-Vnet

</code></pre>

<p id="cn-m6-884">Leave the <b>ADDRESS SPACE </b>with its default values.</p>

<p id="cn-m6-885">Under the <b>SUBNETS </b>selection, rename the subnet name <b>default </b>to:</p>

<pre id="cn-m6-886"><code>PlabAGsubnet

</code></pre>

<p id="cn-m6-887">Change the <b>Address range </b>to:</p>

<pre id="cn-m6-888"><code>10.1.0.0/24

</code></pre>

<p id="cn-m6-890">Using the blank fields below the renamed subnet, create an additional subnet and type the following:</p>

<p id="cn-m6-891"><b>Subnet name:</b></p>

<pre id="cn-m6-892"><code>PlabAGBEsubnet

</code></pre>

<p id="cn-m6-893"><b>Address range:</b></p>

<pre id="cn-m6-894"><code>10.1.1.0/24

</code></pre>

<p id="cn-m6-895">Click <b>OK </b>to save the new virtual network configurations.</p>

<p id="cn-m6-896"></p><figure><img class="cn-img" id="cn-image-m6-c-116" src="CloudNetworkingConcepts_files/image-m6-c-116.jpg" alt=" Figure 4.42 Screenshot of PLABWIN10: The Create virtual network window displayed with PlabApp-Vnet typed into the Name textbox. Subnets entries are set to subnet name PLabAGsubnet Address range 10.0.0.0/24 and subnet name PlabAGBEsubnet Address range 10.0.1.0/24. The OK button is highlighted."><figcaption>
 Figure 4.42 Screenshot of PLABWIN10: The Create virtual network window 
displayed with PlabApp-Vnet typed into the Name textbox. Subnets entries
 are set to subnet name PLabAGsubnet Address range 10.0.0.0/24 and 
subnet name PlabAGBEsubnet Address range 10.0.1.0/24. The OK button is 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-898"><b><i>Step 10</i></b></h4>

<p id="cn-m6-899">From the <b>Create application gateway </b>page, for the <b>Virtual network</b>, select the newly created <b>(new) PlabApp-Vnet </b>from the dropdown.</p>

<p id="cn-m6-900">Then, for <b>Subnet</b>, select <b>(new) PlabAGBEsubnet </b>from the dropdown.</p>

<p id="cn-m6-901">Click <b>Next : Frontends </b>&gt;.</p>

<p id="cn-m6-902"></p><figure><img class="cn-img" id="cn-image-m6-c-117" src="CloudNetworkingConcepts_files/image-m6-c-117.jpg" alt="Figure 4.43 Screenshot of PLABWIN10: The Create application gateway page is displayed showing the (new) PlabWeb-AppFP set for WAF Policy, subnet set to (new) PlabAGBEsubnet (10.0.1.0/24), and the Next : Frontends button highlighted."><figcaption>Figure
 4.43 Screenshot of PLABWIN10: The Create application gateway page is 
displayed showing the (new) PlabWeb-AppFP set for WAF Policy, subnet set
 to (new) PlabAGBEsubnet (10.0.1.0/24), and the Next : Frontends button 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-904"><b><i>Step 11</i></b></h4>

<p id="cn-m6-905">Leave <b>Frontend IP address type </b>as the default <b>Public</b>.</p>

<p id="cn-m6-906">From the <b>Public IP address </b>option, click the <b>Add new </b>weblink</p><figure><img class="cn-img" id="cn-image-m6-c-118" src="CloudNetworkingConcepts_files/image-m6-c-118.jpg" alt="Figure 4.44 Screenshot of PLABWIN10: The Create application gateway &amp;gt; Frontends tab is displayed, with the Add new weblink for Public IP address highlighted."><figcaption>Figure
 4.44 Screenshot of PLABWIN10: The Create application gateway &gt; 
Frontends tab is displayed, with the Add new weblink for Public IP 
address highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-908"><b><i>Step 12</i></b></h4>

<p id="cn-m6-909">From the <b>Add a Public IP </b>window, in the <b>Name </b>textbox, type:</p>

<pre id="cn-m6-910"><code>FrontEAppGW

</code></pre>

<p id="cn-m6-911">Then, click <b>OK</b>.</p>

<p id="cn-m6-912"></p><figure><img class="cn-img" id="cn-image-m6-c-119" src="CloudNetworkingConcepts_files/image-m6-c-119.jpg" alt="Figure 4.45 Screenshot of PLABWIN10: The Add a public IP pop-up window is displayed with the Name field typed in and the OK button highlighted."><figcaption>Figure
 4.45 Screenshot of PLABWIN10: The Add a public IP pop-up window is 
displayed with the Name field typed in and the OK button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-914"><b><i>Step 13</i></b></h4>

<p id="cn-m6-915">Once back on the <b>Frontends </b>tab, click <b>Next : Backends </b>&gt;.</p>

<p id="cn-m6-916"></p><figure><img class="cn-img" id="cn-image-m6-c-120" src="CloudNetworkingConcepts_files/image-m6-c-120.jpg" alt="Figure 4.46 Screenshot of PLABWIN10: The Create application gateway &amp;gt; Frontends tab is displayed with the Next : Backends button highlighted."><figcaption>Figure
 4.46 Screenshot of PLABWIN10: The Create application gateway &gt; 
Frontends tab is displayed with the Next : Backends button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-918"><b><i>Step 14</i></b></h4>

<p id="cn-m6-919">In the <b>Backends </b>tab, click the <b>Add a backend pool </b>weblink.</p>

<p id="cn-m6-920"></p><figure><img class="cn-img" id="cn-image-m6-c-121" src="CloudNetworkingConcepts_files/image-m6-c-121.jpg" alt="Figure 4.47 Screenshot of PLABWIN10: The Create application gateway &amp;gt;Backends tab is displayed with the Add a backend pool weblink highlighted."><figcaption>Figure
 4.47 Screenshot of PLABWIN10: The Create application gateway 
&gt;Backends tab is displayed with the Add a backend pool weblink 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-922"><b><i>Step 15</i></b></h4>

<p id="cn-m6-923">From the <b>Add a backend pool configuration </b>fly-out window, in the <b>Name </b>textbox, type:</p>

<pre id="cn-m6-924"><code>Plabbackendpool

</code></pre>

<p id="cn-m6-925">Select <b>Yes </b>for <b>Add backend pool without targets</b>. This enables you to complete the setup without having the targets completed first</p><figure><img class="cn-img" id="cn-image-m6-c-122" src="CloudNetworkingConcepts_files/image-m6-c-122.jpg" alt=" Figure 4.48 Screenshot of PLABWIN10: The Add a backendpool fly-out window is displayed with Plabackendpool typed in Name textbox, Yes selected for Add backend pool without targets, and the Add button highlighted."><figcaption>
 Figure 4.48 Screenshot of PLABWIN10: The Add a backendpool fly-out 
window is displayed with Plabackendpool typed in Name textbox, Yes 
selected for Add backend pool without targets, and the Add button 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-927"><b><i>Step 16</i></b></h4>

<p id="cn-m6-928">From the <b>Backends </b>tab, click <b>Next : Configuration </b>&gt;.</p>

<p id="cn-m6-929"></p><figure><img class="cn-img" id="cn-image-m6-c-123" src="CloudNetworkingConcepts_files/image-m6-c-123.jpg" alt="Figure 4.49 Screenshot of PLABWIN10: The Create application gateway &amp;gt; Backends tab is displayed with the Next : Configuration button highlighted."><figcaption>Figure
 4.49 Screenshot of PLABWIN10: The Create application gateway &gt; 
Backends tab is displayed with the Next : Configuration button 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-931"><b><i>Step 17</i></b></h4>

<p id="cn-m6-932">Under the <b>Configuration </b>tab, below <b>Routing rules</b>, click <b>+ Add a routing rule</b>.</p>

<span class="cn-quote" id="cn-m6-933"><b><i>Note</i></b><i>: Completing 
this step will link the Frontend IP addresses to the Backend Pools, 
External DNS entries will point to the Frontend connections providing a 
level of separation from the internal resources.</i></span>

<p id="cn-m6-935"></p><figure><img class="cn-img" id="cn-image-m6-c-124" src="CloudNetworkingConcepts_files/image-m6-c-124.jpg" alt="Figure 4.50 Screenshot of PLABWIN10: The Create application Gateway &amp;gt; Configuration tab is displayed, with the Add a routing rule option highlighted."><figcaption>Figure
 4.50 Screenshot of PLABWIN10: The Create application Gateway &gt; 
Configuration tab is displayed, with the Add a routing rule option 
highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-937"><b><i>Step 18</i></b></h4>

<p id="cn-m6-938">Under <b>Rule name </b>type:</p>

<pre id="cn-m6-939"><code>PlabRoutingrule

</code></pre>

<p id="cn-m6-940"><b>Priority:</b></p>

<pre id="cn-m6-941"><code> 100

</code></pre>

<p id="cn-m6-942">In the <b>Listener </b>tab, in the <b>Listener name </b>textbox, type:</p>

<pre id="cn-m6-943"><code>PlabListener

</code></pre>

<p id="cn-m6-944">From the <b>Frontend IP Protocol </b>dropdown, select <b>Public</b>.</p>

<p id="cn-m6-945">Leave the remaining selections as their defaults.</p>

<p id="cn-m6-946">Then, click the <b>Backend targets </b>tab.</p>

<p id="cn-m6-947"></p><figure><img class="cn-img" id="cn-image-m6-c-125" src="CloudNetworkingConcepts_files/image-m6-c-125.jpg" alt="Figure 4.51 Screenshot of PLABWIN10: The Add a routing rule window is displayed. Under Listener tab, PLabRoutingrule typed in Rule name textbox, PLabListener typed in Listener name textbox, and default selects set to Pubic for Frontend IP, HTTP for Protocol, 80 for Port, basic for listener type and no for Error page url."><figcaption>Figure
 4.51 Screenshot of PLABWIN10: The Add a routing rule window is 
displayed. Under Listener tab, PLabRoutingrule typed in Rule name 
textbox, PLabListener typed in Listener name textbox, and default 
selects set to Pubic for Frontend IP, HTTP for Protocol, 80 for Port, 
basic for listener type and no for Error page url.</figcaption></figure><p></p>

<h4 id="cn-m6-949"><b><i>Step 19</i></b></h4>

<p id="cn-m6-950">For <b>Target type</b>, ensure <b>Backend pool </b>is selected.</p>

<p id="cn-m6-951">From the <b>Backend target </b>dropdown, select <b>Plabbackendpool</b>.</p>

<p id="cn-m6-952">Then, from <b>Backend settings</b>, click the <b>Add new </b>weblink.</p>

<p id="cn-m6-953"></p><figure><img class="cn-img" id="cn-image-m6-c-126" src="CloudNetworkingConcepts_files/image-m6-c-126.jpg" alt="Figure 4.52 Screenshot of PLABWIN10: The Add a routing rule window is displayed. Under Backend target, Target type set to Backend pool, Plabbackendpool typed in backend target textbox. The add new weblink for Backend settings is highlighted."><figcaption>Figure
 4.52 Screenshot of PLABWIN10: The Add a routing rule window is 
displayed. Under Backend target, Target type set to Backend pool, 
Plabbackendpool typed in backend target textbox. The add new weblink for
 Backend settings is highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-955"><b><i>Step 20</i></b></h4>

<p id="cn-m6-956">An <b>Add Backend settings </b>window will open.</p>

<p id="cn-m6-957">In <b>Backend settings name </b>textbox, type:</p>

<pre id="cn-m6-958"><code>Plabbackendsetting

</code></pre>

<p id="cn-m6-959">Leave all the following selections under <b>Add Backend settings </b>as their default values.</p>

<p id="cn-m6-960">Click <b>Add</b>.</p>

<span class="cn-quote" id="cn-m6-961"><b><i>Note</i></b><i>: The 
configuration of the backend setting establishes how the connection 
between the Frontend resources will communicate with the backend 
resources. Though it 'isn't displayed directly for the user, these 
settings are the tunneling protocols that are leveraged. Without having 
the admin directly configure connection brokers, this replaces the 
server Microsoft Remote Desktop Services that would handle external 
connections. You might not be able to directly demonstrate Layer 2 
tunneling protocol, generic routing encapsulation and packet brokers, as
 these would be more related to switches and routers. On a higher level,
 these configurations influence the configuration of those objectives.</i></span>

<p id="cn-m6-962"></p><figure><img class="cn-img" id="cn-image-m6-c-127" src="CloudNetworkingConcepts_files/image-m6-c-127.jpg" alt="Figure 4.53 Screenshot of PLABWIN10: The Add backend setting window displayed with Plabbackendsetting typed-in Backend settings name textbox, defaults set for HTTP backend protocol, 80 for backend port, disable set for cookie-based affinity and connection draining, and 20 for request time-out(seconds)."><figcaption>Figure
 4.53 Screenshot of PLABWIN10: The Add backend setting window displayed 
with Plabbackendsetting typed-in Backend settings name textbox, defaults
 set for HTTP backend protocol, 80 for backend port, disable set for 
cookie-based affinity and connection draining, and 20 for request 
time-out(seconds).</figcaption></figure><p></p>

<h4 id="cn-m6-964"><b><i>Step 21</i></b></h4>

<p id="cn-m6-965">From the <b>Add a routing rule </b>page, click <b>Add </b>to save the configurations.</p>

<p id="cn-m6-966"></p><figure><img class="cn-img" id="cn-image-m6-c-128" src="CloudNetworkingConcepts_files/image-m6-c-128.jpg" alt="Figure 4.54 Screenshot of PLABWIN10: The Add a routing rule window is displayed with the Add button highlighted."><figcaption>Figure 4.54 Screenshot of PLABWIN10: The Add a routing rule window is displayed with the Add button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-968"><b><i>Step 22</i></b></h4>

<p id="cn-m6-969">From the <b>Create application gateway </b>page, click <b>Next : Tags </b>&gt;.</p>

<p id="cn-m6-970"></p><figure><img class="cn-img" id="cn-image-m6-c-129" src="CloudNetworkingConcepts_files/image-m6-c-129.jpg" alt="Figure 4.55 Screenshot of PLABWIN10: The Create application gateway page is displayed with the Next : Tags button highlighted."><figcaption>Figure 4.55 Screenshot of PLABWIN10: The Create application gateway page is displayed with the Next : Tags button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-972"><b><i>Step 23</i></b></h4>

<p id="cn-m6-973">From the <b>Tags </b>tab, click <b>Next : Review + create</b>.</p>

<p id="cn-m6-974"></p><figure><img class="cn-img" id="cn-image-m6-c-130" src="CloudNetworkingConcepts_files/image-m6-c-130.jpg" alt="Figure 4.56 Screenshot of PLABWIN10: The Create application gateway page is displayed with the Next : Review + create button is highlighted."><figcaption>Figure
 4.56 Screenshot of PLABWIN10: The Create application gateway page is 
displayed with the Next : Review + create button is highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-976"><b><i>Step 24</i></b></h4>

<p id="cn-m6-977">Click <b>Create</b>.</p>

<p id="cn-m6-978"></p><figure><img class="cn-img" id="cn-image-m6-c-131" src="CloudNetworkingConcepts_files/image-m6-c-131.jpg" alt="Figure 4.57 Screenshot of PLABWIN10: The Create application gateway &amp;gt; Review + Create tab is displayed with the Create button highlighted."><figcaption>Figure
 4.57 Screenshot of PLABWIN10: The Create application gateway &gt; 
Review + Create tab is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-980"><b><i>Step 25</i></b></h4>

<p id="cn-m6-981">Azure will open a notification in the top-right-hand side of the screen to state that the <b>deployment is in progress</b>.</p>

<p id="cn-m6-982"></p><figure><img class="cn-img" id="cn-image-m6-c-132" src="CloudNetworkingConcepts_files/image-m6-c-132.jpg" alt="Figure 4.58 Screenshot of PLABWIN10: The Microsoft.ApplicationGateway[..} page is displayed with the message deployment in progress shown."><figcaption>Figure
 4.58 Screenshot of PLABWIN10: The Microsoft.ApplicationGateway[..} page
 is displayed with the message deployment in progress shown.</figcaption></figure><p></p>

<h4 id="cn-m6-984"><b><i>Step 26</i></b></h4>

<p id="cn-m6-985">Once the resource has been deployed, click <b>Go to resource group</b>.</p>

<p id="cn-m6-986"></p><figure><img class="cn-img" id="cn-image-m6-c-133" src="CloudNetworkingConcepts_files/image-m6-c-133.jpg" alt="Figure 4.59 Screenshot of PLABWIN10: The Microsoft.ApplicationGateway […] page displayed with the Notification of Deployment succeeded in the top right corner, and the Go to resource group button is highlighted."><figcaption>Figure
 4.59 Screenshot of PLABWIN10: The Microsoft.ApplicationGateway […] page
 displayed with the Notification of Deployment succeeded in the top 
right corner, and the Go to resource group button is highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-988"><b><i>Step 27</i></b></h4>

<p id="cn-m6-989">From the <b>Resource group </b>overview page, select the newly created <b>Plab-AppGW</b>.</p>

<p id="cn-m6-990"></p><figure><img class="cn-img" id="cn-image-m6-c-134" src="CloudNetworkingConcepts_files/image-m6-c-134.jpg" alt="Figure 4.60 Screenshot of PLABWIN10: The Resource group overview page is displayed with the Plab-AppGW Application gateway type highlighted from resource list."><figcaption>Figure
 4.60 Screenshot of PLABWIN10: The Resource group overview page is 
displayed with the Plab-AppGW Application gateway type highlighted from 
resource list.</figcaption></figure><p></p>

<h4 id="cn-m6-992"><b><i>Step 28</i></b></h4>

<p id="cn-m6-993">Under the <b>Settings </b>pane, click <b>Listeners</b>.</p>

<p id="cn-m6-994"></p><figure><img class="cn-img" id="cn-image-m6-c-135" src="CloudNetworkingConcepts_files/image-m6-c-135.jpg" alt="Figure 4.61 Screenshot of PLABWIN10: The PLAB-AppGW page is displayed with the Listeners option highlighted under Settings."><figcaption>Figure 4.61 Screenshot of PLABWIN10: The PLAB-AppGW page is displayed with the Listeners option highlighted under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-996"><b><i>Step 29</i></b></h4>

<p id="cn-m6-997">From <b>Selected SSL Policy</b>, click the <b>(change) </b>weblink.</p>

<p id="cn-m6-999"></p><figure><img class="cn-img" id="cn-image-m6-c-136" src="CloudNetworkingConcepts_files/image-m6-c-136.jpg" alt="Figure 4.62 Screenshot of PLABWIN10: The PLAB-AppGW | Listeners page is displayed with the change weblink under SSL Policy highlighted."><figcaption>Figure
 4.62 Screenshot of PLABWIN10: The PLAB-AppGW | Listeners page is 
displayed with the change weblink under SSL Policy highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-1001"><b><i>Note</i></b><i>: These relate to the HTTP protocols, and the encryption and authentication protocols it uses.</i></span>

<h4 id="cn-m6-1002"><b><i>Step 30</i></b></h4>

<p id="cn-m6-1003">From the <b>Change SSL policy </b>page, select <b>Prededined </b>to open the pre-generated minimum protocol versions that will be used by the Listeners.</p>

<p id="cn-m6-1004"></p><figure><img class="cn-img" id="cn-image-m6-c-137" src="CloudNetworkingConcepts_files/image-m6-c-137.jpg" alt="Figure 4.63 Screenshot of PLABWIN10: The Change SSL Policy window is displayed with the Predefined radio button selected."><figcaption>Figure 4.63 Screenshot of PLABWIN10: The Change SSL Policy window is displayed with the Predefined radio button selected.</figcaption></figure><p></p>

<h4 id="cn-m6-1006"><b><i>Step 31</i></b></h4>

<p id="cn-m6-1007">From the <b>Policy name </b>dropdown, select <b>AppGWSslPolicy20170401S</b>.</p>

<p id="cn-m6-1008">This will set the minimum protocol version to best practices for TLSv1_2.</p>

<p id="cn-m6-1009"></p><figure><img class="cn-img" id="cn-image-m6-c-138" src="CloudNetworkingConcepts_files/image-m6-c-138.jpg" alt="Figure 4.64 Screenshot of PLABWIN10: The Change SSL Policy window is displayed with the Policy name dropdown expanded and AppGWSslPolicy20170401S from the dropdown highlighted."><figcaption>Figure
 4.64 Screenshot of PLABWIN10: The Change SSL Policy window is displayed
 with the Policy name dropdown expanded and AppGWSslPolicy20170401S from
 the dropdown highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1011"><b><i>Step 32</i></b></h4>

<p id="cn-m6-1012">Click <b>Save</b>.</p>

<p id="cn-m6-1014"></p><figure><img class="cn-img" id="cn-image-m6-c-139" src="CloudNetworkingConcepts_files/image-m6-c-139.jpg" alt="Figure 4.65 Screenshot of PLABWIN10: The Change SSL Policy window is displayed with the Save button highlighted."><figcaption>Figure 4.65 Screenshot of PLABWIN10: The Change SSL Policy window is displayed with the Save button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1016"><b><i>Step 33</i></b></h4>

<p id="cn-m6-1017">Azure will open a notification in the top-right-hand 
side of the screen to state that the changes made to application gateway
 have been saved.</p>

<p id="cn-m6-1019"></p><figure><img class="cn-img" id="cn-image-m6-c-140" src="CloudNetworkingConcepts_files/image-m6-c-140.jpg" alt="Figure 4.66 Screenshot of PLABWIN10: The Plab-AppGW | Listeners page is displayed with the Saved application gateway changes notification box shown in the top right corner."><figcaption>Figure
 4.66 Screenshot of PLABWIN10: The Plab-AppGW | Listeners page is 
displayed with the Saved application gateway changes notification box 
shown in the top right corner.</figcaption></figure><p></p>

<span class="cn-alert" id="cn-m6-1021">Keep <b>PLABWIN10 </b>in this current state for the next task.</span>

<h3 id="cn-m6-1023"><b>Task 3 - Disabling Unnecessary Ports</b></h3>

<p id="cn-m6-1024">Disabling unnecessary ports enables Administrators 
and Security Engineers to better monitor traffic accessing network 
resources. Following the principle of least privileges, resources should
 only retain access to ports that will be used and nothing more.</p>

<p id="cn-m6-1025">In this task, you will learn about how to harden your
 configuration and disable unnecessary ports that will help limit 
potential vulnerabilities.</p>

<h4 id="cn-m6-1027"><b><i>Step 1</i></b></h4>

<p id="cn-m6-1028">Ensure you are connected to <b>PLABWIN10, </b>and the <b>Azure portal </b>window is displayed.</p>

<p id="cn-m6-1029">Click the <b>Home </b>weblink.</p>

<p id="cn-m6-1030"></p><figure><img class="cn-img" id="cn-image-m6-c-141" src="CloudNetworkingConcepts_files/image-m6-c-141.jpg" alt="Figure 4.67 Screenshot of PLABWIN10: The Plab-AppGW | Listeners page is displayed with the Home weblink highlighted."><figcaption>Figure 4.67 Screenshot of PLABWIN10: The Plab-AppGW | Listeners page is displayed with the Home weblink highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1032"><b><i>Step 2</i></b></h4>

<p id="cn-m6-1033">Click <b>Create a resource</b>.</p>

<p id="cn-m6-1034"></p><figure><img class="cn-img" id="cn-image-m6-c-142" src="CloudNetworkingConcepts_files/image-m6-c-142.jpg" alt="Figure 4.68 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure portal is displayed, and the Create a resource button highlighted."><figcaption>Figure
 4.68 Screenshot of PLABWIN10: The Microsoft Edge browser with Azure 
portal is displayed, and the Create a resource button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1036"><b><i>Step 3</i></b></h4>

<p id="cn-m6-1037">From the <b>Create a resource </b>page, search for:</p>

<pre id="cn-m6-1038"><code>network security group

</code></pre>

<p id="cn-m6-1039"></p><figure><img class="cn-img" id="cn-image-m6-c-143" src="CloudNetworkingConcepts_files/image-m6-c-143.jpg" alt="Figure 4.69 Screenshot of PLABWIN10: The Create a resource page is displayed with network security group typed into the search textbox, and the Network security group listed is highlighted."><figcaption>Figure
 4.69 Screenshot of PLABWIN10: The Create a resource page is displayed 
with network security group typed into the search textbox, and the 
Network security group listed is highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1041"><b><i>Step 4</i></b></h4>

<p id="cn-m6-1042">Click <b>Create</b>.</p>

<p id="cn-m6-1044"></p><figure><img class="cn-img" id="cn-image-m6-c-144" src="CloudNetworkingConcepts_files/image-m6-c-144.jpg" alt="Figure 4.70 Screenshot of PLABWIN10: The Network security group page is displayed with the Create button highlighted."><figcaption>Figure 4.70 Screenshot of PLABWIN10: The Network security group page is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1046"><b><i>Step 5</i></b></h4>

<p id="cn-m6-1047">From the <b>Create network security group </b>- <b>Basics tab</b>, from the <b>Resource group </b>dropdown, select the pre-populated resource group.</p>

<p id="cn-m6-1048">Under the <b>Instance details</b>, in the <b>Network security group </b>name textbox, type:</p>

<pre id="cn-m6-1049"><code>NSG-PLAB

</code></pre>

<p id="cn-m6-1051">Under <b>Region</b>, ensure it is set to <b>UK South</b>.</p>

<p id="cn-m6-1052">Click the <b>Review + create </b>button.</p>

<p id="cn-m6-1053"></p><figure><img class="cn-img" id="cn-image-m6-c-145" src="CloudNetworkingConcepts_files/image-m6-c-145.jpg" alt="Figure 4.71 Screenshot of PLABWIN10: The Create network security group &amp;gt; Basic tab is displayed with the Review Create button highlighted."><figcaption>Figure
 4.71 Screenshot of PLABWIN10: The Create network security group &gt; 
Basic tab is displayed with the Review Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1055"><b><i>Step 6</i></b></h4>

<p id="cn-m6-1056">From the <b>Review + create </b>tab, Click <b>Create</b>.</p>

<p id="cn-m6-1057"></p><figure><img class="cn-img" id="cn-image-m6-c-146" src="CloudNetworkingConcepts_files/image-m6-c-146.jpg" alt="Figure 4.72 Screenshot of PLABWIN10: The Network security group &amp;gt; Review + create tab is displayed with the Create button highlighted."><figcaption>Figure
 4.72 Screenshot of PLABWIN10: The Network security group &gt; Review + 
create tab is displayed with the Create button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1059"><b><i>Step 7</i></b></h4>

<p id="cn-m6-1060">Azure will open a notification in the top-right-hand side of the screen to state that the <b>deployment is in progress</b>.</p>

<p id="cn-m6-1061">Once the resource has been deployed, click <b>Go to resource</b>.</p>

<p id="cn-m6-1062"></p><figure><img class="cn-img" id="cn-image-m6-c-147" src="CloudNetworkingConcepts_files/image-m6-c-147.jpg" alt="Figure 4.73 Screenshot of PLABWIN10: The Azure portal displaying deployment overview page is displayed with the Go to resource button highlighted."><figcaption>Figure
 4.73 Screenshot of PLABWIN10: The Azure portal displaying deployment 
overview page is displayed with the Go to resource button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1064"><b><i>Step 8</i></b></h4>

<p id="cn-m6-1065">From the new resource <b>NSG-PLAB </b>page, under <b>Settings</b>, select <b>Outbound security rules</b>.</p>

<p id="cn-m6-1066"></p><figure><img class="cn-img" id="cn-image-m6-c-148" src="CloudNetworkingConcepts_files/image-m6-c-148.jpg" alt="Figure 4.74 Screenshot of PLABWIN10: The NSG-PLAB page is displayed with the Outbound security rules option highlighted, under Settings."><figcaption>Figure
 4.74 Screenshot of PLABWIN10: The NSG-PLAB page is displayed with the 
Outbound security rules option highlighted, under Settings.</figcaption></figure><p></p>

<h4 id="cn-m6-1068"><b><i>Step 9</i></b></h4>

<p id="cn-m6-1069">Click the <b>Add </b>button.</p>

<p id="cn-m6-1070"></p><figure><img class="cn-img" id="cn-image-m6-c-149" src="CloudNetworkingConcepts_files/image-m6-c-149.jpg" alt="Figure 4.75 Screenshot of PLABWIN10: The NSG-PLAB | Outbound security rules page is displayed with the Add button highlighted."><figcaption>Figure 4.75 Screenshot of PLABWIN10: The NSG-PLAB | Outbound security rules page is displayed with the Add button highlighted.</figcaption></figure><p></p>

<h4 id="cn-m6-1072"><b><i>Step 10</i></b></h4>

<p id="cn-m6-1073">From <b>Add outbound security rule </b>window, click <b>Source </b>and select <b>Service Tag</b>.</p>

<p id="cn-m6-1074">Then, under the <b>Source service tag </b>dropdown, select <b>Intranet</b>.</p>

<p id="cn-m6-1075">Under <b>Action</b>, select <b>Deny</b>.</p>

<p id="cn-m6-1076">Leave <b>priority </b>set to its default of <b>100</b>.</p>

<p id="cn-m6-1077"><b>Name</b></p>

<pre id="cn-m6-1078"><code>InternetConnection

</code></pre>

<p id="cn-m6-1079">Click <b>Add</b>.</p>

<p id="cn-m6-1081"></p><figure><img class="cn-img" id="cn-image-m6-c-150" src="CloudNetworkingConcepts_files/image-m6-c-150.jpg" alt="Figure 4.76 Screenshot of PLABWIN10: The Add outbound security rule fly-out window is displayed with the Name textbox typed into, and the Add button highlighted."><figcaption>Figure
 4.76 Screenshot of PLABWIN10: The Add outbound security rule fly-out 
window is displayed with the Name textbox typed into, and the Add button
 highlighted.</figcaption></figure><p></p>

<span class="cn-quote" id="cn-m6-1084"><b><i>Note</i></b><i>: available soon.</i></span>

<span class="atom-code hidden">87fab35c-2831-4202-b4f1-46339fa6c815</span>

<span class="atom-code hidden">36a80a43-58e4-4dfa-97ab-46b89bcce4fa</span>

<span class="cn-alert" id="cn-m6-1090">Keep all devices that you have powered on in their current state and proceed to the review section.</span>

<div class="print-exercise-break"></div><h2 class="exercise-title" id="cn-m6-1091"><b>Review</b></h2>

<p id="cn-m6-1092">Well done, you have completed the <b>Cloud Networking Concepts </b>Practice Lab.</p>

<span class="atom-code hidden">ea452c71-a7f4-48a7-8201-8572916f3b62</span>

<span class="atom-code hidden">2bdbbd83-3861-4b4b-961b-8934ba37bfb0</span>

<span class="atom-code hidden">d9ea31b3-1311-442a-9ff8-b55af998e555</span>

<span class="atom-code hidden">35ffa702-6e1c-47d5-a464-e60f08024c8a</span>

<span class="atom-code hidden">77ffc960-e797-4385-bae4-f57ef50d6aa7</span>

<span class="atom-code hidden">27f5a4b3-71ff-45a6-a678-95f86df4bd0d</span>

<span class="atom-code hidden">aaaaaaaa-1111-1111-1111-193f35a24fe3</span>

<h2 class="cn-summary"><b>Summary</b></h2>

<p id="cn-m6-1103">You completed the following exercises:</p>

<ul id="cn-m6-1104">

<li id="cn-m6-1104">Exercise 1 - Network Segmentation in the Cloud</li>

<li id="cn-m6-1105">Exercise 2 - Network Services in Cloud Security</li>

<li id="cn-m6-1106">Exercise 3 - Protocols to Secure Cloud Traffic</li>

<li id="cn-m6-1107">Exercise 4 - Hardening Cloud-based Resources</li>

</ul>

<p id="cn-m6-1108">You should now be able to:</p>

<ul id="cn-m6-1109">

<li id="cn-m6-1109">Create a Virtual Network in Microsoft Azure</li>

<li id="cn-m6-1110">Create a Subnet in Microsoft Azure</li>

<li id="cn-m6-1111">Configure a Virtual Network</li>

<li id="cn-m6-1112">Explore Azure Cloud Shell</li>

<li id="cn-m6-1113">Create a VM with PowerShell</li>

<li id="cn-m6-1114">Verify the successful creation of VM via SSH</li>

<li id="cn-m6-1115">Applying Application Security Groups</li>

<li id="cn-m6-1116">Configure Application Gateway</li>

<li id="cn-m6-1117">Disabling Unnecessary Ports</li>

</ul>

<h2 class="cn-feedback"><b>Feedback</b></h2>

<span class="atom-code hidden">067744a4-4299-4662-b5be-04dbb636a007</span>

<span class="cn-alert" id="cn-m6-1121">Shutdown all virtual machines used in this lab. Alternatively, you can log out of the lab platform.</span>


                </div>
            </div>
        
</div>
    </div>
    </form>


</body></html>